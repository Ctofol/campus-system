# 项目更新日志与阶段总结 (Changelog & Roadmap)

本文档记录了 **Campus Sports System (校园运动管理系统)** 的开发历程，按功能阶段进行划分。

## 📅 Phase 5: 部署与工程化 (Current - 2026.01.29)
**目标**: 提升项目代码质量，完善文档，实现容器化部署。

- **📦 工程治理**:
  - 清理了 `unpackage`、`__pycache__` 等约 100MB+ 的临时垃圾文件。
  - 配置了 `.gitignore` 规范，防止环境差异导致的代码冲突。
  - 整理了项目根目录结构。
- **📄 文档建设**:
  - 新增 **README.md**: 包含前后端环境配置、真机调试 IP 修改指南。
  - 归档 **DEPLOY.md**: 完善 Docker/Docker Compose 部署流程。
- **☁️ 部署准备**:
  - 验证了 Nginx 配置与静态资源托管路径。

## 🚀 Phase 4: H5 适配与体验优化 (2026.01.28 - 2026.01.29)
**目标**: 解决 Web 端 (H5) 的兼容性问题，优化业务流程闭环。

- **🐛 Bug 修复**:
  - **证据上传修复**: 将视频证据上传合并至 `/activity/finish` 接口，解决了单独上传时的 404 问题。
  - **跨域问题 (CORS/COEP)**: 修复了 H5 端地图组件因浏览器安全策略无法加载的问题。
- **⚡ 体验优化**:
  - **体测数据展示**: 修正了体测数据单位错误（从“公里”改为“个/次”）。
  - **视频预览**: 实现了教师端审批列表的视频弹窗播放功能。
  - **流程精简**: 移除了体测过程中冗余的“截图”功能，仅保留视频录制。
  - **按需展示**: 学生端仅在有视频证据时才显示“查看媒体”按钮。

## 👮 Phase 3: AI 体能测试模块 (2026.01 Mid)
**目标**: 实现非接触式的体能考核功能。

- **核心功能**:
  - 开发 `ai-police` 模块，支持骨架识别（模拟/预留接口）。
  - 实现了 `test.vue` 专项测试页（如引体向上、800/1000米）。
  - 视频录制与压缩上传流程。

## 🏃 Phase 2: 跑步与地图核心 (2026.01 Early)
**目标**: 实现基于 LBS 的校园跑步打卡功能。

- **核心功能**:
  - **地图轨迹**: 集成地图 SDK，实现实时轨迹绘制 (Polyline)。
  - **打卡逻辑**: 实现了“校园定点打卡”与“自由跑”两种模式。
  - **防作弊**: 基础的速度与距离校验算法。

## 🏗️ Phase 1: 基础架构搭建 (2026.01 Start)
**目标**: 完成前后端地基建设。

- **后端 (FastAPI)**:
  - 搭建 Python FastAPI + PostgreSQL 架构。
  - 完成用户认证 (JWT Auth) 与数据库模型设计 (User, Activity, Student, Teacher)。
- **前端 (Uni-app)**:
  - 搭建 Vue3 + Vite 项目骨架。
  - 实现了基于角色的权限控制（学生端/教师端 UI 分离）。
  - 封装了统一的 `request.js` 请求拦截器。
