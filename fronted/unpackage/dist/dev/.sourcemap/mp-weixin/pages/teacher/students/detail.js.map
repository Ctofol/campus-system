{"version":3,"file":"detail.js","sources":["pages/teacher/students/detail.vue","E:/HBuilderX/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGVhY2hlci9zdHVkZW50cy9kZXRhaWwudnVl"],"sourcesContent":["<template>\n  <view class=\"detail-page\">\n    <!-- Header Card -->\n    <view class=\"header-card\">\n      <view class=\"user-info\">\n        <view class=\"avatar\">{{ name.slice(0,1) }}</view>\n        <view class=\"info-content\">\n          <view class=\"name-row\">\n            <text class=\"name\">{{ name }}</text>\n            <text class=\"status-badge\" :class=\"healthClass\">{{ healthStatus }}</text>\n          </view>\n          <text class=\"sub-text\">学号：{{ no }} | {{ className }}</text>\n          <text class=\"sub-text\">分组：{{ group || '未分组' }}</text>\n        </view>\n      </view>\n      \n      <view class=\"stats-grid\">\n        <view class=\"stat-item\">\n          <text class=\"stat-val\">{{ runList.length }}</text>\n          <text class=\"stat-label\">总跑次</text>\n        </view>\n        <view class=\"stat-item\">\n          <text class=\"stat-val\">{{ totalDistance }}</text>\n          <text class=\"stat-label\">总里程(km)</text>\n        </view>\n        <view class=\"stat-item\">\n          <text class=\"stat-val\">{{ testList.length }}</text>\n          <text class=\"stat-label\">测试次数</text>\n        </view>\n      </view>\n    </view>\n\n    <!-- Tabs -->\n    <view class=\"tabs-container\">\n      <view class=\"tabs\">\n        <view \n          class=\"tab-item\" \n          :class=\"{ active: activeTab === 'run' }\"\n          @click=\"activeTab = 'run'\"\n        >跑步记录</view>\n        <view \n          class=\"tab-item\" \n          :class=\"{ active: activeTab === 'test' }\"\n          @click=\"activeTab = 'test'\"\n        >体能测试</view>\n      </view>\n    </view>\n\n    <!-- Content Area -->\n    <scroll-view scroll-y class=\"content-area\">\n      <!-- Run List -->\n      <view v-if=\"activeTab === 'run'\" class=\"list-container\">\n        <view class=\"record-card\" v-for=\"(r, i) in runList\" :key=\"'r'+i\">\n          <view class=\"card-left\">\n            <text class=\"card-date\">{{ r.date }}</text>\n            <text class=\"card-tag\">{{ r.modeText }}</text>\n          </view>\n          <view class=\"card-right\">\n            <view class=\"data-row\">\n              <text class=\"data-val\">{{ r.distance }}<text class=\"unit\">km</text></text>\n              <text class=\"data-val\">{{ r.duration }}</text>\n            </view>\n            <text class=\"pace\">配速 {{ r.pace || \"5'30\\\"\" }}</text>\n          </view>\n        </view>\n        <view class=\"empty-tip\" v-if=\"runList.length===0\">暂无跑步记录</view>\n      </view>\n\n      <!-- Test List -->\n      <view v-else class=\"list-container\">\n        <view class=\"record-card\" v-for=\"(t, i) in testList\" :key=\"'t'+i\">\n          <view class=\"card-left\">\n            <text class=\"card-date\">{{ t.date }}</text>\n            <text class=\"card-title\">{{ t.testName }}</text>\n          </view>\n          <view class=\"card-right\">\n            <text class=\"test-result\" :class=\"t.result === '合格' ? 'pass' : 'fail'\">\n              {{ t.result }}\n            </text>\n            <text class=\"test-val\">成绩：{{ t.testCount }}</text>\n          </view>\n        </view>\n        <view class=\"empty-tip\" v-if=\"testList.length===0\">暂无测试记录</view>\n      </view>\n    </scroll-view>\n\n    <!-- Footer Actions -->\n    <view class=\"footer-actions\">\n      <button class=\"action-btn outline\" @click=\"contactStudent\">联系学生</button>\n      <button class=\"action-btn primary\" @click=\"exportReport\">导出档案</button>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue';\nimport { onShow, onLoad } from '@dcloudio/uni-app';\n\nconst id = ref('');\nconst name = ref('');\nconst no = ref('');\nconst className = ref('');\nconst group = ref('体能A组'); // Mock group\nconst healthStatus = ref('良好');\nconst activeTab = ref('run');\n\nconst runList = ref([\n  { date: '05-10 07:20', distance: 3.2, duration: '00:22', modeText: '普通跑步', pace: \"6'52\\\"\" },\n  { date: '05-12 18:05', distance: 2.0, duration: '00:13', modeText: '警务专项', pace: \"6'30\\\"\" },\n  { date: '05-15 06:40', distance: 5.0, duration: '00:30', modeText: '耐力跑', pace: \"6'00\\\"\" }\n]);\n\nconst testList = ref([\n  { date: '05-08 09:30', testName: '引体向上', testCount: 12, result: '合格' },\n  { date: '05-14 15:10', testName: '仰卧起坐', testCount: 35, result: '未合格' }\n]);\n\nconst totalDistance = computed(() => {\n  return runList.value.reduce((acc, cur) => acc + cur.distance, 0).toFixed(1);\n});\n\nconst healthClass = computed(() => {\n  return healthStatus.value === '良好' ? 'good' : 'bad';\n});\n\nonLoad((opt) => {\n  id.value = opt.id || '';\n  name.value = opt.name || '';\n  no.value = opt.no || '';\n  className.value = opt.class || '';\n  // In real app, fetch detailed info by id\n});\n\nonShow(() => {\n  const role = uni.getStorageSync('userRole') || uni.getStorageSync('role');\n  if (role !== 'teacher') {\n    // Just a safeguard, usually handled by middleware\n  }\n});\n\nconst contactStudent = () => {\n  uni.showActionSheet({\n    itemList: ['拨打电话', '发送消息'],\n    success: (res) => {\n      uni.showToast({ title: '操作已模拟', icon: 'none' });\n    }\n  });\n};\n\nconst exportReport = () => {\n  uni.showToast({ title: '正在生成PDF档案...', icon: 'loading' });\n  setTimeout(() => {\n    uni.showToast({ title: '导出成功', icon: 'success' });\n  }, 1500);\n};\n</script>\n\n<style scoped>\n.detail-page {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background: #f5f7fa;\n}\n\n.header-card {\n  background: #fff;\n  padding: 30rpx;\n  margin-bottom: 20rpx;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n  margin-bottom: 30rpx;\n}\n\n.avatar {\n  width: 100rpx;\n  height: 100rpx;\n  background: #20C997;\n  color: #fff;\n  font-size: 40rpx;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 24rpx;\n  box-shadow: 0 4rpx 12rpx rgba(32, 201, 151, 0.3);\n}\n\n.info-content {\n  flex: 1;\n}\n\n.name-row {\n  display: flex;\n  align-items: center;\n  gap: 16rpx;\n  margin-bottom: 8rpx;\n}\n\n.name {\n  font-size: 36rpx;\n  font-weight: bold;\n  color: #333;\n}\n\n.status-badge {\n  font-size: 22rpx;\n  padding: 4rpx 12rpx;\n  border-radius: 20rpx;\n  background: #e0f2f1;\n  color: #20C997;\n}\n\n.status-badge.bad {\n  background: #ffebee;\n  color: #d81e06;\n}\n\n.sub-text {\n  font-size: 26rpx;\n  color: #666;\n  display: block;\n  margin-top: 4rpx;\n}\n\n.stats-grid {\n  display: flex;\n  justify-content: space-around;\n  background: #f8f9fa;\n  padding: 20rpx;\n  border-radius: 12rpx;\n}\n\n.stat-item {\n  text-align: center;\n}\n\n.stat-val {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333;\n  display: block;\n}\n\n.stat-label {\n  font-size: 24rpx;\n  color: #999;\n  margin-top: 4rpx;\n}\n\n.tabs-container {\n  background: #fff;\n  padding: 0 30rpx;\n  border-bottom: 1px solid #eee;\n}\n\n.tabs {\n  display: flex;\n  gap: 40rpx;\n}\n\n.tab-item {\n  padding: 24rpx 0;\n  font-size: 30rpx;\n  color: #666;\n  position: relative;\n}\n\n.tab-item.active {\n  color: #20C997;\n  font-weight: bold;\n}\n\n.tab-item.active::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 40rpx;\n  height: 4rpx;\n  background: #20C997;\n  border-radius: 2rpx;\n}\n\n.content-area {\n  flex: 1;\n  padding: 20rpx 30rpx;\n  box-sizing: border-box;\n}\n\n.list-container {\n  padding-bottom: 120rpx;\n}\n\n.record-card {\n  background: #fff;\n  border-radius: 12rpx;\n  padding: 24rpx;\n  margin-bottom: 20rpx;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.02);\n}\n\n.card-left {\n  display: flex;\n  flex-direction: column;\n  gap: 8rpx;\n}\n\n.card-date {\n  font-size: 26rpx;\n  color: #999;\n}\n\n.card-tag {\n  font-size: 24rpx;\n  color: #fff;\n  background: #20C997;\n  padding: 2rpx 10rpx;\n  border-radius: 4rpx;\n  align-self: flex-start;\n}\n\n.card-title {\n  font-size: 30rpx;\n  font-weight: bold;\n  color: #333;\n}\n\n.card-right {\n  text-align: right;\n}\n\n.data-row {\n  display: flex;\n  align-items: baseline;\n  justify-content: flex-end;\n  gap: 16rpx;\n}\n\n.data-val {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333;\n}\n\n.unit {\n  font-size: 24rpx;\n  font-weight: normal;\n  margin-left: 2rpx;\n}\n\n.pace {\n  font-size: 24rpx;\n  color: #999;\n  display: block;\n  margin-top: 4rpx;\n}\n\n.test-result {\n  font-size: 28rpx;\n  font-weight: bold;\n  display: block;\n  margin-bottom: 4rpx;\n}\n\n.test-result.pass { color: #20C997; }\n.test-result.fail { color: #ff9f43; }\n\n.test-val {\n  font-size: 26rpx;\n  color: #666;\n}\n\n.empty-tip {\n  text-align: center;\n  color: #999;\n  padding-top: 100rpx;\n  font-size: 28rpx;\n}\n\n.footer-actions {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background: #fff;\n  padding: 20rpx 30rpx;\n  box-shadow: 0 -2rpx 10rpx rgba(0,0,0,0.05);\n  display: flex;\n  gap: 20rpx;\n  box-sizing: border-box;\n}\n\n.action-btn {\n  flex: 1;\n  margin: 0;\n  font-size: 30rpx;\n  border-radius: 40rpx;\n}\n\n.action-btn.outline {\n  background: #fff;\n  color: #666;\n  border: 1px solid #ddd;\n}\n\n.action-btn.primary {\n  background: #20C997;\n  color: #fff;\n}\n</style>","import MiniProgramPage from 'D:/PC/Document/HBuilderProjects/campus-system/fronted/pages/teacher/students/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","onLoad","onShow","uni"],"mappings":";;;;;AAkGA,UAAM,KAAKA,cAAAA,IAAI,EAAE;AACjB,UAAM,OAAOA,cAAAA,IAAI,EAAE;AACnB,UAAM,KAAKA,cAAAA,IAAI,EAAE;AACjB,UAAM,YAAYA,cAAAA,IAAI,EAAE;AACxB,UAAM,QAAQA,cAAAA,IAAI,MAAM;AACxB,UAAM,eAAeA,cAAAA,IAAI,IAAI;AAC7B,UAAM,YAAYA,cAAAA,IAAI,KAAK;AAE3B,UAAM,UAAUA,cAAAA,IAAI;AAAA,MAClB,EAAE,MAAM,eAAe,UAAU,KAAK,UAAU,SAAS,UAAU,QAAQ,MAAM,QAAU;AAAA,MAC3F,EAAE,MAAM,eAAe,UAAU,GAAK,UAAU,SAAS,UAAU,QAAQ,MAAM,QAAU;AAAA,MAC3F,EAAE,MAAM,eAAe,UAAU,GAAK,UAAU,SAAS,UAAU,OAAO,MAAM,QAAU;AAAA,IAC5F,CAAC;AAED,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACnB,EAAE,MAAM,eAAe,UAAU,QAAQ,WAAW,IAAI,QAAQ,KAAM;AAAA,MACtE,EAAE,MAAM,eAAe,UAAU,QAAQ,WAAW,IAAI,QAAQ,MAAO;AAAA,IACzE,CAAC;AAED,UAAM,gBAAgBC,cAAQ,SAAC,MAAM;AACnC,aAAO,QAAQ,MAAM,OAAO,CAAC,KAAK,QAAQ,MAAM,IAAI,UAAU,CAAC,EAAE,QAAQ,CAAC;AAAA,IAC5E,CAAC;AAED,UAAM,cAAcA,cAAQ,SAAC,MAAM;AACjC,aAAO,aAAa,UAAU,OAAO,SAAS;AAAA,IAChD,CAAC;AAEDC,kBAAM,OAAC,CAAC,QAAQ;AACd,SAAG,QAAQ,IAAI,MAAM;AACrB,WAAK,QAAQ,IAAI,QAAQ;AACzB,SAAG,QAAQ,IAAI,MAAM;AACrB,gBAAU,QAAQ,IAAI,SAAS;AAAA,IAEjC,CAAC;AAEDC,kBAAAA,OAAO,MAAM;AACEC,oBAAG,MAAC,eAAe,UAAU,KAAKA,cAAAA,MAAI,eAAe,MAAM;AAAA,IAI1E,CAAC;AAED,UAAM,iBAAiB,MAAM;AAC3BA,oBAAAA,MAAI,gBAAgB;AAAA,QAClB,UAAU,CAAC,QAAQ,MAAM;AAAA,QACzB,SAAS,CAAC,QAAQ;AAChBA,wBAAG,MAAC,UAAU,EAAE,OAAO,SAAS,MAAM,OAAM,CAAE;AAAA,QAC/C;AAAA,MACL,CAAG;AAAA,IACH;AAEA,UAAM,eAAe,MAAM;AACzBA,oBAAG,MAAC,UAAU,EAAE,OAAO,gBAAgB,MAAM,UAAS,CAAE;AACxD,iBAAW,MAAM;AACfA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,UAAS,CAAE;AAAA,MACjD,GAAE,IAAI;AAAA,IACT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzJA,GAAG,WAAW,eAAe;"}