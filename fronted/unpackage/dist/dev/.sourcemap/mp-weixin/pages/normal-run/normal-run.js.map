{"version":3,"file":"normal-run.js","sources":["pages/normal-run/normal-run.vue","E:/HBuilderX/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbm9ybWFsLXJ1bi9ub3JtYWwtcnVuLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"normal-run\">\n    <view v-if=\"!isRunning\" class=\"start-box\">\n      <text class=\"tip\">普通跑步模式：记录轨迹，无地点限制</text>\n      <button @click=\"startRun\" class=\"start-btn\">开始跑步</button>\n    </view>\n\n    <view v-else class=\"running-box\">\n      <view class=\"data\">\n        <text class=\"data-item\">时长：{{duration}}秒</text>\n        <text class=\"data-item\">距离：{{(distance/1000).toFixed(2)}}公里</text>\n        <text class=\"data-item\">轨迹点：{{track.length}}个</text>\n      </view>\n      <button @click=\"stopRun\" class=\"stop-btn\">结束跑步</button>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\n\n// 核心数据\nconst isRunning = ref(false);\nconst duration = ref(0);\nconst distance = ref(0);\nconst track = ref([]); // 轨迹数组\nlet timer = null;\nlet watcher = null;\n\n// 1. 开始跑步\nconst startRun = () => {\n  isRunning.value = true;\n  duration.value = 0;\n  distance.value = 0;\n  track.value = [];\n\n  // 计时\n  timer = setInterval(() => {\n    duration.value += 1;\n    distance.value += Math.random() * 5; // 模拟距离\n  }, 1000);\n\n  // 记录轨迹（模拟）\n  watcher = setInterval(() => {\n    const lat = 39.908823 + Math.random() * 0.002;\n    const lng = 116.397470 + Math.random() * 0.002;\n    track.value.push({ lat, lng });\n  }, 2000);\n\n  uni.showToast({ title: '开始跑步', icon: 'success' });\n};\n\n// 2. 结束跑步\nconst stopRun = () => {\n  clearInterval(timer);\n  clearInterval(watcher);\n  isRunning.value = false;\n\n  // 跳转到结算页\n  uni.navigateTo({\n    url: `/pages/result/result?mode=normal&duration=${duration.value}&distance=${distance.value}&track=${JSON.stringify(track.value)}`\n  });\n};\n</script>\n\n<style scoped>\n.normal-run {\n  padding: 30rpx;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.start-box {\n  text-align: center;\n}\n.tip {\n  font-size: 28rpx;\n  color: #666;\n  margin-bottom: 30rpx;\n}\n.start-btn {\n  width: 600rpx;\n  height: 80rpx;\n  line-height: 80rpx;\n  background-color: #20C997;\n  color: #fff;\n  border: none;\n  border-radius: 10rpx;\n  font-size: 32rpx;\n}\n.running-box {\n  text-align: center;\n}\n.data {\n  margin-bottom: 30rpx;\n}\n.data-item {\n  display: block;\n  font-size: 36rpx;\n  margin: 10rpx 0;\n  color: #333;\n}\n.stop-btn {\n  width: 600rpx;\n  height: 80rpx;\n  line-height: 80rpx;\n  background-color: #d81e06;\n  color: #fff;\n  border: none;\n  border-radius: 10rpx;\n  font-size: 32rpx;\n}\n</style>","import MiniProgramPage from 'D:/PC/Document/HBuilderProjects/run-checkin/pages/normal-run/normal-run.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni"],"mappings":";;;;;AAsBA,UAAM,YAAYA,cAAAA,IAAI,KAAK;AAC3B,UAAM,WAAWA,cAAAA,IAAI,CAAC;AACtB,UAAM,WAAWA,cAAAA,IAAI,CAAC;AACtB,UAAM,QAAQA,cAAAA,IAAI,CAAA,CAAE;AACpB,QAAI,QAAQ;AACZ,QAAI,UAAU;AAGd,UAAM,WAAW,MAAM;AACrB,gBAAU,QAAQ;AAClB,eAAS,QAAQ;AACjB,eAAS,QAAQ;AACjB,YAAM,QAAQ;AAGd,cAAQ,YAAY,MAAM;AACxB,iBAAS,SAAS;AAClB,iBAAS,SAAS,KAAK,OAAM,IAAK;AAAA,MACnC,GAAE,GAAI;AAGP,gBAAU,YAAY,MAAM;AAC1B,cAAM,MAAM,YAAY,KAAK,OAAM,IAAK;AACxC,cAAM,MAAM,YAAa,KAAK,OAAM,IAAK;AACzC,cAAM,MAAM,KAAK,EAAE,KAAK,IAAK,CAAA;AAAA,MAC9B,GAAE,GAAI;AAEPC,oBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,UAAS,CAAE;AAAA,IAClD;AAGA,UAAM,UAAU,MAAM;AACpB,oBAAc,KAAK;AACnB,oBAAc,OAAO;AACrB,gBAAU,QAAQ;AAGlBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,6CAA6C,SAAS,KAAK,aAAa,SAAS,KAAK,UAAU,KAAK,UAAU,MAAM,KAAK,CAAC;AAAA,MACpI,CAAG;AAAA,IACH;;;;;;;;;;;;;;;;AC7DA,GAAG,WAAW,eAAe;"}