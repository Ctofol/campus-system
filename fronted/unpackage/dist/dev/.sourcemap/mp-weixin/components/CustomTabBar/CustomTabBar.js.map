{"version":3,"file":"CustomTabBar.js","sources":["components/CustomTabBar/CustomTabBar.vue","E:/HBuilderX/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovUEMvRG9jdW1lbnQvSEJ1aWxkZXJQcm9qZWN0cy9jYW1wdXMtc3lzdGVtL2Zyb250ZWQvY29tcG9uZW50cy9DdXN0b21UYWJCYXIvQ3VzdG9tVGFiQmFyLnZ1ZQ"],"sourcesContent":["<template>\n  <cover-view class=\"tab-bar\">\n    <cover-view class=\"tab-bar-border\"></cover-view>\n    <cover-view v-for=\"(item, index) in list\" :key=\"index\" class=\"tab-bar-item\" @click=\"switchTab(item)\">\n      <cover-image class=\"tab-icon\" :src=\"selected === index ? item.selectedIconPath : item.iconPath\"></cover-image>\n      <cover-view class=\"tab-text\" :style=\"{ color: selected === index ? selectedColor : color }\">{{ item.text }}</cover-view>\n    </cover-view>\n  </cover-view>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue';\n\nconst props = defineProps({\n  current: {\n    type: String,\n    default: ''\n  }\n});\n\nconst color = \"#666666\";\nconst selectedColor = \"#20C997\";\nconst role = ref('student');\n\nconst studentList = [\n  { pagePath: \"/pages/home/home\", text: \"首页\", iconPath: \"/static/tab/home.png\", selectedIconPath: \"/static/tab/home-active.png\" },\n  { pagePath: \"/pages/run/run\", text: \"跑步\", iconPath: \"/static/tab/run.png\", selectedIconPath: \"/static/tab/run-active.png\" },\n  { pagePath: \"/pages/test/test\", text: \"体测\", iconPath: \"/static/tab/test.png\", selectedIconPath: \"/static/tab/test-active.png\" },\n  { pagePath: \"/pages/mine/mine\", text: \"我的\", iconPath: \"/static/tab/mine.png\", selectedIconPath: \"/static/tab/mine-active.png\" }\n];\n\nconst teacherList = [\n  { pagePath: \"/pages/teacher/home/home\", text: \"主页\", iconPath: \"/static/tab/home.png\", selectedIconPath: \"/static/tab/home-active.png\" },\n  { pagePath: \"/pages/teacher/manage/manage\", text: \"管理\", iconPath: \"/static/tab/run.png\", selectedIconPath: \"/static/tab/run-active.png\" }, // 暂用 run 图标\n  { pagePath: \"/pages/teacher/mine/mine\", text: \"我的\", iconPath: \"/static/tab/mine.png\", selectedIconPath: \"/static/tab/mine-active.png\" }\n];\n\nonMounted(() => {\n  const userRole = uni.getStorageSync('userRole') || 'student';\n  role.value = userRole;\n});\n\nconst list = computed(() => {\n  return role.value === 'teacher' ? teacherList : studentList;\n});\n\nconst selected = computed(() => {\n  return list.value.findIndex(item => item.pagePath === props.current || props.current.startsWith(item.pagePath));\n});\n\nconst switchTab = (item) => {\n  const url = item.pagePath;\n  if (url === props.current) return;\n  \n  uni.redirectTo({\n    url\n  });\n};\n</script>\n\n<style scoped>\n.tab-bar {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 100rpx; /* Standard tab bar height */\n  background: white;\n  display: flex;\n  padding-bottom: env(safe-area-inset-bottom);\n  z-index: 9999;\n}\n\n.tab-bar-border {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 1px;\n  background-color: rgba(0, 0, 0, 0.1);\n  transform: scaleY(0.5);\n}\n\n.tab-bar-item {\n  flex: 1;\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n\n.tab-icon {\n  width: 50rpx;\n  height: 50rpx;\n  margin-bottom: 4rpx;\n}\n\n.tab-text {\n  font-size: 20rpx;\n}\n</style>","import Component from 'D:/PC/Document/HBuilderProjects/campus-system/fronted/components/CustomTabBar/CustomTabBar.vue'\nwx.createComponent(Component)"],"names":["ref","onMounted","uni","computed"],"mappings":";;AAoBA,MAAM,QAAQ;AACd,MAAM,gBAAgB;;;;;;;;;;AARtB,UAAM,QAAQ;AASd,UAAM,OAAOA,cAAAA,IAAI,SAAS;AAE1B,UAAM,cAAc;AAAA,MAClB,EAAE,UAAU,oBAAoB,MAAM,MAAM,UAAU,wBAAwB,kBAAkB,8BAA+B;AAAA,MAC/H,EAAE,UAAU,kBAAkB,MAAM,MAAM,UAAU,uBAAuB,kBAAkB,6BAA8B;AAAA,MAC3H,EAAE,UAAU,oBAAoB,MAAM,MAAM,UAAU,wBAAwB,kBAAkB,8BAA+B;AAAA,MAC/H,EAAE,UAAU,oBAAoB,MAAM,MAAM,UAAU,wBAAwB,kBAAkB,8BAA+B;AAAA,IACjI;AAEA,UAAM,cAAc;AAAA,MAClB,EAAE,UAAU,4BAA4B,MAAM,MAAM,UAAU,wBAAwB,kBAAkB,8BAA+B;AAAA,MACvI,EAAE,UAAU,gCAAgC,MAAM,MAAM,UAAU,uBAAuB,kBAAkB,6BAA8B;AAAA;AAAA,MACzI,EAAE,UAAU,4BAA4B,MAAM,MAAM,UAAU,wBAAwB,kBAAkB,8BAA+B;AAAA,IACzI;AAEAC,kBAAAA,UAAU,MAAM;AACd,YAAM,WAAWC,cAAG,MAAC,eAAe,UAAU,KAAK;AACnD,WAAK,QAAQ;AAAA,IACf,CAAC;AAED,UAAM,OAAOC,cAAQ,SAAC,MAAM;AAC1B,aAAO,KAAK,UAAU,YAAY,cAAc;AAAA,IAClD,CAAC;AAED,UAAM,WAAWA,cAAQ,SAAC,MAAM;AAC9B,aAAO,KAAK,MAAM,UAAU,UAAQ,KAAK,aAAa,MAAM,WAAW,MAAM,QAAQ,WAAW,KAAK,QAAQ,CAAC;AAAA,IAChH,CAAC;AAED,UAAM,YAAY,CAAC,SAAS;AAC1B,YAAM,MAAM,KAAK;AACjB,UAAI,QAAQ,MAAM;AAAS;AAE3BD,oBAAAA,MAAI,WAAW;AAAA,QACb;AAAA,MACJ,CAAG;AAAA,IACH;;;;;;;;;;;;;;;;;ACxDA,GAAG,gBAAgB,SAAS;"}