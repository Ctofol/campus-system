import{a as t,$ as e,C as a,s,b as i}from"./index-B3FfpJ1t.js";let o="http://127.0.0.1:8000";o="http://120.26.17.147:8000";const r="http://120.26.17.147:8000",h=(...o)=>{let h={};return h="string"==typeof o[0]?{url:o[0],...o[1]}:o[0]||{},new Promise(((o,u)=>{const d=t("token"),n={"Content-Type":"application/json",...h.header||{}};d&&(n.Authorization=`Bearer ${d}`),e({url:`${r}${h.url}`,method:h.method||"GET",data:h.data||{},header:n,success:t=>{t.statusCode>=200&&t.statusCode<300?o(t.data):401===t.statusCode?(a("token"),a("userInfo"),s({title:"登录已过期，请重新登录",icon:"none"}),setTimeout((()=>{i({url:"/pages/login/login"})}),1500),u(t.data)):(s({title:t.data.detail||"请求失败",icon:"none"}),u(t.data))},fail:t=>{s({title:"网络请求失败",icon:"none"}),u(t)}})}))},u=t=>h({url:"/auth/login",method:"POST",data:t}),d=t=>h({url:"/auth/register",method:"POST",data:t}),n=t=>h({url:"/activity/finish",method:"POST",data:t}),l=t=>{let e="";return t&&(e=`?page=${t.page}&size=${t.size}`),h({url:`/teacher/activities${e}`,method:"GET"})},c=t=>h({url:`/teacher/activity/${t}/approve`,method:"POST"}),p=t=>h({url:"/teacher/tasks",method:"POST",data:t}),m=t=>h({url:`/teacher/tasks/${t}`,method:"DELETE"}),$=t=>{let e="";if(t){const a=[];t.page&&a.push(`page=${t.page}`),t.size&&a.push(`size=${t.size}`),t.status&&a.push(`status=${t.status}`),a.length>0&&(e=`?${a.join("&")}`)}return h({url:`/teacher/tasks${e}`,method:"GET"})},T=t=>{let e="";return t&&(e=`?page=${t.page}&size=${t.size}`),h({url:`/student/tasks${e}`,method:"GET"})},g=(t,e)=>h({url:`/teacher/student/${t}/activities`,method:"GET",data:e}),k=t=>h({url:`/teacher/tasks/${t}`,method:"GET"}),E=()=>h({url:"/checkpoints",method:"GET"}),z=t=>h({url:"/activity/checkin",method:"POST",data:t});export{r as B,E as a,d as b,z as c,$ as d,m as e,k as f,T as g,p as h,l as i,c as j,g as k,u as l,h as r,n as s};
