import{r as e,z as a,c as l,w as s,i as u,o as t,d as o,e as n,v as c,t as r,p as d,s as i,b as A,m as v,V as f,q as g,I as p,u as h}from"./index-DJkcSMuy.js";import{l as I}from"./request.DDN5gHc8.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";const C=x({__name:"login",setup(x){const C=e("student"),m=e(!1),F=e({account:"",password:""}),R=a((()=>F.value.account.length>0&&F.value.password.length>0)),O=async()=>{if(R.value&&(()=>{const{account:e,password:a}=F.value;return!(a.length<6&&(d({title:"密码长度不能少于6位",icon:"none"}),1))})()){m.value=!0;try{const e=await I({phone:F.value.account,password:F.value.password});if("admin"!==e.role&&e.role!==C.value)return d({title:"角色不匹配，请切换角色登录",icon:"none"}),void(m.value=!1);const a={userId:e.user_id,role:e.role,name:e.name,phone:F.value.account,schoolId:"10001",isPoliceSchool:!1};i("token",e.access_token),i("userInfo",a),i("userRole",e.role),d({title:"登录成功",icon:"success"}),setTimeout((()=>{"admin"===e.role?A({url:"/pages/admin/dashboard/index"}):"student"===C.value?A({url:"/pages/home/home"}):A({url:"/pages/teacher/home/home"})}),1e3)}catch(e){console.error("Login failed:",e)}finally{m.value=!1}}},V=()=>{v({url:"/pages/register/register"})},w=()=>{d({title:"请联系管理员重置密码",icon:"none"})};return(e,a)=>{const d=f,i=g,A=u,v=p,I=h;return t(),l(A,{class:"login-container"},{default:s((()=>[o(A,{class:"header-section"},{default:s((()=>[o(d,{class:"logo-image",src:"data:image/png;base64,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",mode:"aspectFit"}),o(i,{class:"app-name"},{default:s((()=>[n("灵析运动")])),_:1}),o(i,{class:"app-sub-name"},{default:s((()=>[n("Lingxi Sports")])),_:1})])),_:1}),o(A,{class:"login-card"},{default:s((()=>[o(A,{class:"role-tabs"},{default:s((()=>[o(A,{class:c(["role-tab",{active:"student"===C.value}]),onClick:a[0]||(a[0]=e=>C.value="student")},{default:s((()=>[o(i,null,{default:s((()=>[n("学生端")])),_:1})])),_:1},8,["class"]),o(A,{class:c(["role-tab",{active:"teacher"===C.value}]),onClick:a[1]||(a[1]=e=>C.value="teacher")},{default:s((()=>[o(i,null,{default:s((()=>[n("教师端")])),_:1})])),_:1},8,["class"])])),_:1}),o(A,{class:"form-area"},{default:s((()=>[o(A,{class:"input-group"},{default:s((()=>[o(i,{class:"input-label"},{default:s((()=>[n(r("student"===C.value?"学号 / 手机号":"工号 / 手机号"),1)])),_:1}),o(v,{class:"input-field",modelValue:F.value.account,"onUpdate:modelValue":a[2]||(a[2]=e=>F.value.account=e),placeholder:"student"===C.value?"请输入学号/手机号":"请输入工号/手机号","placeholder-class":"placeholder-style"},null,8,["modelValue","placeholder"])])),_:1}),o(A,{class:"input-group"},{default:s((()=>[o(i,{class:"input-label"},{default:s((()=>[n("密码")])),_:1}),o(v,{class:"input-field",modelValue:F.value.password,"onUpdate:modelValue":a[3]||(a[3]=e=>F.value.password=e),type:"password",placeholder:"请输入密码","placeholder-class":"placeholder-style"},null,8,["modelValue"])])),_:1}),o(I,{class:c(["submit-btn",{disabled:!R.value}]),onClick:O,loading:m.value},{default:s((()=>[n(" 登录 ")])),_:1},8,["class","loading"]),o(A,{class:"footer-links"},{default:s((()=>[o(i,{class:"link-text",onClick:V},{default:s((()=>[n("注册新账号")])),_:1}),o(i,{class:"divider"},{default:s((()=>[n("|")])),_:1}),o(i,{class:"link-text",onClick:w},{default:s((()=>[n("忘记密码？")])),_:1})])),_:1})])),_:1})])),_:1}),o(A,{class:"copyright"},{default:s((()=>[o(i,null,{default:s((()=>[n("Copyright © 2026 Campus Sports System")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-59173813"]]);export{C as default};
