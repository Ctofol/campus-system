import{r as e,x as l,c as a,w as s,i as t,o as u,a as o,b as c,l as n,t as d,s as r,B as i,e as p,n as f,k as _,I as v,q as m}from"./index-uRXP6RJd.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";const g=h({__name:"login",setup(h){const g=e("student"),k=e(!1),b=e({account:"",password:""}),w=l((()=>b.value.account.length>0&&b.value.password.length>0)),x=()=>{w.value&&(()=>{const{account:e,password:l}=b.value;if(l.length<6)return r({title:"密码长度不能少于6位",icon:"none"}),!1;const a=/^1[3-9]\d{9}$/;return!(/^\d{11}$/.test(e)&&!a.test(e)&&(r({title:"请输入正确的手机号",icon:"none"}),1))})()&&(k.value=!0,setTimeout((()=>{k.value=!1;const{account:e,password:l}=b.value;let a=!1;if("student"===g.value?"2024001"===e&&"123456"===l&&(a=!0):"teacher"===g.value&&"2024888"===e&&"123456"===l&&(a=!0),!a)return void r({title:"账号或密码错误",icon:"none"});const s={userId:b.value.account,role:g.value,name:"student"===g.value?"张三":"李老师",schoolId:"10001",isPoliceSchool:!0};i("token","mock_token_123456"),i("userInfo",s),i("userRole",g.value),r({title:"登录成功",icon:"success"}),setTimeout((()=>{"student"===g.value?p({url:"/pages/home/home"}):p({url:"/pages/teacher/home/home"})}),1e3)}),1e3))},y=()=>{f({url:"/pages/register/register"})},C=()=>{r({title:"请联系管理员重置密码",icon:"none"})};return(e,l)=>{const r=_,i=t,p=v,f=m;return u(),a(i,{class:"login-container"},{default:s((()=>[o(i,{class:"header-section"},{default:s((()=>[o(i,{class:"logo-circle"},{default:s((()=>[o(r,{class:"logo-text"},{default:s((()=>[c("校")])),_:1})])),_:1}),o(r,{class:"app-name"},{default:s((()=>[c("大学生运动健康管理平台")])),_:1}),o(r,{class:"app-sub-name"},{default:s((()=>[c("Professional Sports Management System")])),_:1})])),_:1}),o(i,{class:"login-card"},{default:s((()=>[o(i,{class:"role-tabs"},{default:s((()=>[o(i,{class:n(["role-tab",{active:"student"===g.value}]),onClick:l[0]||(l[0]=e=>g.value="student")},{default:s((()=>[o(r,null,{default:s((()=>[c("学生端")])),_:1})])),_:1},8,["class"]),o(i,{class:n(["role-tab",{active:"teacher"===g.value}]),onClick:l[1]||(l[1]=e=>g.value="teacher")},{default:s((()=>[o(r,null,{default:s((()=>[c("教师端")])),_:1})])),_:1},8,["class"])])),_:1}),o(i,{class:"form-area"},{default:s((()=>[o(i,{class:"input-group"},{default:s((()=>[o(r,{class:"input-label"},{default:s((()=>[c(d("student"===g.value?"学号 / 手机号":"工号 / 手机号"),1)])),_:1}),o(p,{class:"input-field",modelValue:b.value.account,"onUpdate:modelValue":l[2]||(l[2]=e=>b.value.account=e),placeholder:"student"===g.value?"请输入学号/手机号":"请输入工号/手机号","placeholder-class":"placeholder-style"},null,8,["modelValue","placeholder"])])),_:1}),o(i,{class:"input-group"},{default:s((()=>[o(r,{class:"input-label"},{default:s((()=>[c("密码")])),_:1}),o(p,{class:"input-field",modelValue:b.value.password,"onUpdate:modelValue":l[3]||(l[3]=e=>b.value.password=e),type:"password",placeholder:"请输入密码","placeholder-class":"placeholder-style"},null,8,["modelValue"])])),_:1}),o(f,{class:n(["submit-btn",{disabled:!w.value}]),onClick:x,loading:k.value},{default:s((()=>[c(" 登录 ")])),_:1},8,["class","loading"]),o(i,{class:"footer-links"},{default:s((()=>[o(r,{class:"link-text",onClick:y},{default:s((()=>[c("注册新账号")])),_:1}),o(r,{class:"divider"},{default:s((()=>[c("|")])),_:1}),o(r,{class:"link-text",onClick:C},{default:s((()=>[c("忘记密码？")])),_:1})])),_:1})])),_:1})])),_:1}),o(i,{class:"copyright"},{default:s((()=>[o(r,null,{default:s((()=>[c("Copyright © 2026 Campus Sports System")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-b36fdcae"]]);export{g as default};
