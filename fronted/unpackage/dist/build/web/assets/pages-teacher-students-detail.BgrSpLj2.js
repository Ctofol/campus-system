import{r as a,x as t,g as s,c as e,w as l,i as u,o as c,a as d,b as n,t as i,l as r,f as o,h as f,F as _,d as v,aa as m,s as p,k as b,S as g,q as k}from"./index-uRXP6RJd.js";import{a as x,o as y}from"./uni-app.es.CewT9dt1.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";const C=h({__name:"detail",setup(h){const C=a(""),T=a(""),j=a(""),w=a(""),F=a("体能A组"),N=a("良好"),q=a("run"),A=a([{date:"05-10 07:20",distance:3.2,duration:"00:22",modeText:"普通跑步",pace:"6'52\""},{date:"05-12 18:05",distance:2,duration:"00:13",modeText:"警务专项",pace:"6'30\""},{date:"05-15 06:40",distance:5,duration:"00:30",modeText:"耐力跑",pace:"6'00\""}]),D=a([{date:"05-08 09:30",testName:"引体向上",testCount:12,result:"合格"},{date:"05-14 15:10",testName:"仰卧起坐",testCount:35,result:"未合格"}]),I=t((()=>A.value.reduce(((a,t)=>a+t.distance),0).toFixed(1))),L=t((()=>"良好"===N.value?"good":"bad"));x((a=>{C.value=a.id||"",T.value=a.name||"",j.value=a.no||"",w.value=a.class||""})),y((()=>{s("userRole")||s("role")}));const P=()=>{m({itemList:["拨打电话","发送消息"],success:a=>{p({title:"操作已模拟",icon:"none"})}})},R=()=>{p({title:"正在生成PDF档案...",icon:"loading"}),setTimeout((()=>{p({title:"导出成功",icon:"success"})}),1500)};return(a,t)=>{const s=u,m=b,p=g,x=k;return c(),e(s,{class:"detail-page"},{default:l((()=>[d(s,{class:"header-card"},{default:l((()=>[d(s,{class:"user-info"},{default:l((()=>[d(s,{class:"avatar"},{default:l((()=>[n(i(T.value.slice(0,1)),1)])),_:1}),d(s,{class:"info-content"},{default:l((()=>[d(s,{class:"name-row"},{default:l((()=>[d(m,{class:"name"},{default:l((()=>[n(i(T.value),1)])),_:1}),d(m,{class:r(["status-badge",L.value])},{default:l((()=>[n(i(N.value),1)])),_:1},8,["class"])])),_:1}),d(m,{class:"sub-text"},{default:l((()=>[n("学号："+i(j.value)+" | "+i(w.value),1)])),_:1}),d(m,{class:"sub-text"},{default:l((()=>[n("分组："+i(F.value||"未分组"),1)])),_:1})])),_:1})])),_:1}),d(s,{class:"stats-grid"},{default:l((()=>[d(s,{class:"stat-item"},{default:l((()=>[d(m,{class:"stat-val"},{default:l((()=>[n(i(A.value.length),1)])),_:1}),d(m,{class:"stat-label"},{default:l((()=>[n("总跑次")])),_:1})])),_:1}),d(s,{class:"stat-item"},{default:l((()=>[d(m,{class:"stat-val"},{default:l((()=>[n(i(I.value),1)])),_:1}),d(m,{class:"stat-label"},{default:l((()=>[n("总里程(km)")])),_:1})])),_:1}),d(s,{class:"stat-item"},{default:l((()=>[d(m,{class:"stat-val"},{default:l((()=>[n(i(D.value.length),1)])),_:1}),d(m,{class:"stat-label"},{default:l((()=>[n("测试次数")])),_:1})])),_:1})])),_:1})])),_:1}),d(s,{class:"tabs-container"},{default:l((()=>[d(s,{class:"tabs"},{default:l((()=>[d(s,{class:r(["tab-item",{active:"run"===q.value}]),onClick:t[0]||(t[0]=a=>q.value="run")},{default:l((()=>[n("跑步记录")])),_:1},8,["class"]),d(s,{class:r(["tab-item",{active:"test"===q.value}]),onClick:t[1]||(t[1]=a=>q.value="test")},{default:l((()=>[n("体能测试")])),_:1},8,["class"])])),_:1})])),_:1}),d(p,{"scroll-y":"",class:"content-area"},{default:l((()=>["run"===q.value?(c(),e(s,{key:0,class:"list-container"},{default:l((()=>[(c(!0),o(_,null,f(A.value,((a,t)=>(c(),e(s,{class:"record-card",key:"r"+t},{default:l((()=>[d(s,{class:"card-left"},{default:l((()=>[d(m,{class:"card-date"},{default:l((()=>[n(i(a.date),1)])),_:2},1024),d(m,{class:"card-tag"},{default:l((()=>[n(i(a.modeText),1)])),_:2},1024)])),_:2},1024),d(s,{class:"card-right"},{default:l((()=>[d(s,{class:"data-row"},{default:l((()=>[d(m,{class:"data-val"},{default:l((()=>[n(i(a.distance),1),d(m,{class:"unit"},{default:l((()=>[n("km")])),_:1})])),_:2},1024),d(m,{class:"data-val"},{default:l((()=>[n(i(a.duration),1)])),_:2},1024)])),_:2},1024),d(m,{class:"pace"},{default:l((()=>[n("配速 "+i(a.pace||"5'30\""),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),0===A.value.length?(c(),e(s,{key:0,class:"empty-tip"},{default:l((()=>[n("暂无跑步记录")])),_:1})):v("",!0)])),_:1})):(c(),e(s,{key:1,class:"list-container"},{default:l((()=>[(c(!0),o(_,null,f(D.value,((a,t)=>(c(),e(s,{class:"record-card",key:"t"+t},{default:l((()=>[d(s,{class:"card-left"},{default:l((()=>[d(m,{class:"card-date"},{default:l((()=>[n(i(a.date),1)])),_:2},1024),d(m,{class:"card-title"},{default:l((()=>[n(i(a.testName),1)])),_:2},1024)])),_:2},1024),d(s,{class:"card-right"},{default:l((()=>[d(m,{class:r(["test-result","合格"===a.result?"pass":"fail"])},{default:l((()=>[n(i(a.result),1)])),_:2},1032,["class"]),d(m,{class:"test-val"},{default:l((()=>[n("成绩："+i(a.testCount),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),0===D.value.length?(c(),e(s,{key:0,class:"empty-tip"},{default:l((()=>[n("暂无测试记录")])),_:1})):v("",!0)])),_:1}))])),_:1}),d(s,{class:"footer-actions"},{default:l((()=>[d(x,{class:"action-btn outline",onClick:P},{default:l((()=>[n("联系学生")])),_:1}),d(x,{class:"action-btn primary",onClick:R},{default:l((()=>[n("导出档案")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-adb6e6c0"]]);export{C as default};
