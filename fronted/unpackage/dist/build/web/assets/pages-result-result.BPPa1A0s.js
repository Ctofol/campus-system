import{r as a,z as e,a as l,c as s,w as t,i as u,o as d,d as c,e as i,t as f,n as r,v,j as m,b as _,q as o,u as n}from"./index-D4dSIJeF.js";import{a as b}from"./uni-app.es.DJB9Vm6C.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";const y=p({__name:"result",setup(p){const y=a("normal"),k=a(0),g=a(0),h=a(!1),x=a(!1),w=a(0),S=a("");a("");const F=a(0),N=a(!1),j=a(0),R=a(0),$=a(0),q=a(""),C=e((()=>{switch(y.value){case"police":return"ðŸŽ¯ 2000ç±³ä¸“é¡¹ä½“èƒ½ç»“ç®—";case"campus":return"ðŸ« æ ¡å›­æ‰“å¡è·‘æ­¥ç»“ç®—";case"test":return"ðŸ’ª ä½“èƒ½æµ‹è¯•ç»“ç®—";default:return"ðŸƒ æ™®é€šè·‘æ­¥ç»“ç®—"}})),I=e((()=>{switch(y.value){case"police":return"#fdf2f0";case"campus":return"#e8f4f8";case"test":return"#f3f7ff";default:return"#f5f5f5"}})),P=e((()=>w.value<=6.5));b((a=>{let e=null;if("true"===a.useStorage)e=l("tempRunResult");else if(a.data)try{e=JSON.parse(decodeURIComponent(a.data))}catch(s){console.error("Failed to parse result data",s)}e?(y.value="test"===e.type?"test":"normal",e.metrics&&(k.value=e.metrics.duration||0,g.value=1e3*(e.metrics.distance||0),F.value=e.metrics.count||0,N.value=e.metrics.qualified,w.value=Number(e.metrics.pace)||0),"test"===y.value&&(S.value="ä½“æµ‹é¡¹ç›®",N.value=e.metrics.qualified,N.value?q.value="æ­å–œè¾¾æ ‡ï¼":q.value="ç»§ç»­åŠ æ²¹ï¼")):(y.value=a.mode||"normal",k.value=Number(a.duration)||0,g.value=Number(a.distance)||0,h.value="true"===a.isReach,x.value="true"===a.isPoliceFinish,w.value=Number(a.policePace)||0)}));const z=a=>{const e=a%60;return`${Math.floor(a/60).toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`},B=()=>{_({url:"/pages/home/home"})};return(a,e)=>{const l=o,_=u,b=n;return d(),s(_,{class:"result-page"},{default:t((()=>[c(_,{class:"mode-header",style:r({backgroundColor:I.value})},{default:t((()=>[c(l,{class:"mode-title"},{default:t((()=>[i(f(C.value),1)])),_:1})])),_:1},8,["style"]),c(_,{class:"result-card"},{default:t((()=>["test"===y.value?(d(),s(_,{key:0,class:"base-data"},{default:t((()=>[c(l,{class:"base-title"},{default:t((()=>[i("æµ‹è¯•é¡¹ç›®ï¼š"+f(S.value),1)])),_:1}),c(_,{class:"data-item"},{default:t((()=>[c(l,{class:"item-label"},{default:t((()=>[i("å®Œæˆæ•°é‡")])),_:1}),c(l,{class:"item-value count-text"},{default:t((()=>[i(f(F.value)+" æ¬¡",1)])),_:1})])),_:1}),c(_,{class:"data-item"},{default:t((()=>[c(l,{class:"item-label"},{default:t((()=>[i("æµ‹è¯•ç”¨æ—¶")])),_:1}),c(l,{class:"item-value"},{default:t((()=>[i(f(z(k.value)),1)])),_:1})])),_:1}),c(_,{class:"data-item"},{default:t((()=>[c(l,{class:"item-label"},{default:t((()=>[i("åŠ¨ä½œåˆ¤å®š")])),_:1}),c(l,{class:v(["item-value",N.value?"success":"fail"])},{default:t((()=>[i(f(N.value?"âœ… åˆæ ¼":"âŒ æœªåˆæ ¼"),1)])),_:1},8,["class"])])),_:1})])),_:1})):m("",!0),"test"===y.value?(d(),s(_,{key:1,class:"mode-data"},{default:t((()=>[c(l,{class:"mode-data-title"},{default:t((()=>[i("æˆç»©åˆ†æž")])),_:1}),c(_,{class:"bar-chart"},{default:t((()=>[c(_,{class:"bar-row"},{default:t((()=>[c(l,{class:"bar-label"},{default:t((()=>[i("æˆ‘çš„")])),_:1}),c(_,{class:"bar-track"},{default:t((()=>[c(_,{class:"bar-fill user-fill",style:r({width:R.value+"%"})},null,8,["style"]),R.value>15?(d(),s(l,{key:0,class:"bar-val-in"},{default:t((()=>[i(f(F.value),1)])),_:1})):m("",!0)])),_:1}),R.value<=15?(d(),s(l,{key:0,class:"bar-val-out"},{default:t((()=>[i(f(F.value),1)])),_:1})):m("",!0)])),_:1}),c(_,{class:"bar-row"},{default:t((()=>[c(l,{class:"bar-label"},{default:t((()=>[i("åˆæ ¼")])),_:1}),c(_,{class:"bar-track"},{default:t((()=>[c(_,{class:"bar-fill standard-fill",style:r({width:$.value+"%"})},null,8,["style"]),$.value>15?(d(),s(l,{key:0,class:"bar-val-in"},{default:t((()=>[i(f(j.value),1)])),_:1})):m("",!0)])),_:1}),$.value<=15?(d(),s(l,{key:0,class:"bar-val-out"},{default:t((()=>[i(f(j.value),1)])),_:1})):m("",!0)])),_:1})])),_:1}),c(_,{class:"suggestion-box"},{default:t((()=>[c(l,{class:"sugg-title"},{default:t((()=>[i("ðŸ’¡ æ™ºèƒ½åé¦ˆ")])),_:1}),c(l,{class:"sugg-text"},{default:t((()=>[i(f(q.value),1)])),_:1})])),_:1})])),_:1})):(d(),s(_,{key:2,class:"base-data"},{default:t((()=>[c(l,{class:"base-title"},{default:t((()=>[i("è¿åŠ¨åŸºç¡€æ•°æ®")])),_:1}),c(_,{class:"data-item"},{default:t((()=>[c(l,{class:"item-label"},{default:t((()=>[i("è¿åŠ¨æ—¶é•¿")])),_:1}),c(l,{class:"item-value"},{default:t((()=>[i(f(z(k.value)),1)])),_:1})])),_:1}),c(_,{class:"data-item"},{default:t((()=>[c(l,{class:"item-label"},{default:t((()=>[i("è¿åŠ¨è·ç¦»")])),_:1}),c(l,{class:"item-value"},{default:t((()=>[i(f((g.value/1e3).toFixed(2))+" å…¬é‡Œ",1)])),_:1})])),_:1})])),_:1})),"police"===y.value?(d(),s(_,{key:3,class:"mode-data"},{default:t((()=>[c(l,{class:"mode-data-title"},{default:t((()=>[i("ä¸“é¡¹ä½“èƒ½æµ‹è¯•æ•°æ®")])),_:1}),c(_,{class:"data-item"},{default:t((()=>[c(l,{class:"item-label"},{default:t((()=>[i("2000ç±³ç›®æ ‡å®Œæˆ")])),_:1}),c(l,{class:v(["item-value",x.value?"success":"fail"])},{default:t((()=>[i(f(x.value?"âœ… å·²å®Œæˆ":"âŒ æœªå®Œæˆ"),1)])),_:1},8,["class"])])),_:1}),c(_,{class:"data-item"},{default:t((()=>[c(l,{class:"item-label"},{default:t((()=>[i("é…é€Ÿæ˜¯å¦è¾¾æ ‡")])),_:1}),c(l,{class:v(["item-value",P.value?"success":"fail"])},{default:t((()=>[i(f(P.value?`âœ… è¾¾æ ‡ï¼ˆ${w.value.toFixed(1)} åˆ†/å…¬é‡Œï¼‰`:`âŒ æœªè¾¾æ ‡ï¼ˆ${w.value.toFixed(1)} åˆ†/å…¬é‡Œï¼‰`),1)])),_:1},8,["class"])])),_:1}),c(_,{class:"data-item tips"},{default:t((()=>[c(l,{class:"item-label"},{default:t((()=>[i("å‚è€ƒæ ‡å‡†")])),_:1}),c(l,{class:"item-value"},{default:t((()=>[i("å¯æ ¹æ®å­¦æ ¡æˆ–è¯¾ç¨‹ä½“æµ‹æ ‡å‡†é…ç½®")])),_:1})])),_:1})])),_:1})):m("",!0),"campus"===y.value?(d(),s(_,{key:4,class:"mode-data"},{default:t((()=>[c(l,{class:"mode-data-title"},{default:t((()=>[i("æ ¡å›­æ‰“å¡æ•°æ®")])),_:1}),c(_,{class:"data-item"},{default:t((()=>[c(l,{class:"item-label"},{default:t((()=>[i("æ‰“å¡ç‚¹åˆ°è¾¾çŠ¶æ€")])),_:1}),c(l,{class:v(["item-value",h.value?"success":"fail"])},{default:t((()=>[i(f(h.value?"âœ… å·²åˆ°è¾¾":"âŒ æœªåˆ°è¾¾"),1)])),_:1},8,["class"])])),_:1})])),_:1})):m("",!0),"normal"===y.value?(d(),s(_,{key:5,class:"mode-data"},{default:t((()=>[c(l,{class:"mode-data-title"},{default:t((()=>[i("æ™®é€šè·‘æ­¥æ•°æ®")])),_:1}),c(_,{class:"data-item tips"},{default:t((()=>[c(l,{class:"item-label"},{default:t((()=>[i("æ¸©é¦¨æç¤º")])),_:1}),c(l,{class:"item-value"},{default:t((()=>[i("æ•°æ®å·²è‡ªåŠ¨è®°å½•ï¼Œå¯åœ¨ã€Œæˆ‘çš„ã€é¡µé¢æŸ¥çœ‹æ±‡æ€»")])),_:1})])),_:1})])),_:1})):m("",!0)])),_:1}),c(_,{class:"btn-group"},{default:t((()=>[c(b,{class:"save-btn",disabled:""},{default:t((()=>[i(" âœ… æ•°æ®å·²ä¿å­˜ ")])),_:1}),c(b,{onClick:B,class:"back-btn"},{default:t((()=>[i("è¿”å›žé¦–é¡µ")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-e7f9d9b7"]]);export{y as default};
