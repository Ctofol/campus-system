import{r as e,c as l,w as a,i as o,o as s,a as t,b as u,l as c,t as d,f as n,F as i,d as r,a4 as p,s as m,B as f,e as h,k as _,q as v,I as V,a5 as k}from"./index-uRXP6RJd.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";const b=w({__name:"register",setup(w){const b=e(1),g=e(!1),U=e({role:"student",name:"",phone:"",code:"",password:"",confirmPwd:"",school:"",college:"",major:"",class:"",empId:"",department:"",isPoliceSchool:!1}),x=e=>{U.value.role=e},y=()=>{b.value=2},I=e=>{U.value.isPoliceSchool=e.detail.value},P=()=>{p()},C=()=>{if(!U.value.phone)return void m({title:"è¯·å…ˆè¾“å…¥æ‰‹æœºå·",icon:"none"});/^1[3-9]\d{9}$/.test(U.value.phone)?m({title:"éªŒè¯ç å·²å‘é€",icon:"success"}):m({title:"æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®",icon:"none"})},S=()=>{const e=U.value;if(!e.name||!e.phone||!e.password)return void m({title:"è¯·å®Œå–„åŸºç¡€ä¿¡æ¯",icon:"none"});/^1[3-9]\d{9}$/.test(e.phone)?e.password.length<6?m({title:"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½",icon:"none"}):e.password===e.confirmPwd?"student"!==e.role||e.school&&e.class?"teacher"!==e.role||e.empId&&e.department?(g.value=!0,setTimeout((()=>{g.value=!1;const l={userId:"student"===e.role?e.phone:e.empId,role:e.role,name:e.name,schoolId:"10001",isPoliceSchool:e.isPoliceSchool,...e};f("token","mock_token_register_123"),f("userInfo",l),f("role",e.role),m({title:"æ³¨å†ŒæˆåŠŸ",icon:"success"}),setTimeout((()=>{h({url:"/pages/home/home"})}),1500)}),1500)):m({title:"è¯·å®Œå–„æ•™å¸ˆä¿¡æ¯",icon:"none"}):m({title:"è¯·å®Œå–„å­¦ç”Ÿä¿¡æ¯",icon:"none"}):m({title:"ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´",icon:"none"}):m({title:"è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·",icon:"none"})};return(e,p)=>{const m=_,f=o,h=v,w=V,j=k;return s(),l(f,{class:"register-container"},{default:a((()=>[t(f,{class:"header-section"},{default:a((()=>[t(m,{class:"title"},{default:a((()=>[u("æ³¨å†Œæ–°è´¦å·")])),_:1}),t(m,{class:"sub-title"},{default:a((()=>[u("åŠ å…¥æ ¡å›­è¿åŠ¨å¥åº·å¹³å°")])),_:1})])),_:1}),t(f,{class:"register-card"},{default:a((()=>[1===b.value?(s(),l(f,{key:0,class:"role-select-box"},{default:a((()=>[t(m,{class:"step-title"},{default:a((()=>[u("è¯·é€‰æ‹©æ‚¨çš„èº«ä»½")])),_:1}),t(f,{class:"role-options"},{default:a((()=>[t(f,{class:c(["role-option",{active:"student"===U.value.role}]),onClick:p[0]||(p[0]=e=>x("student"))},{default:a((()=>[t(m,{class:"role-icon"},{default:a((()=>[u("ğŸ‘¨â€ğŸ“")])),_:1}),t(m,{class:"role-name"},{default:a((()=>[u("æˆ‘æ˜¯å­¦ç”Ÿ")])),_:1})])),_:1},8,["class"]),t(f,{class:c(["role-option",{active:"teacher"===U.value.role}]),onClick:p[1]||(p[1]=e=>x("teacher"))},{default:a((()=>[t(m,{class:"role-icon"},{default:a((()=>[u("ğŸ‘¨â€ğŸ«")])),_:1}),t(m,{class:"role-name"},{default:a((()=>[u("æˆ‘æ˜¯æ•™å¸ˆ")])),_:1})])),_:1},8,["class"])])),_:1}),t(h,{class:"next-btn",onClick:y},{default:a((()=>[u("ä¸‹ä¸€æ­¥")])),_:1})])),_:1})):(s(),l(f,{key:1,class:"form-box"},{default:a((()=>[t(f,{class:"form-header"},{default:a((()=>[t(m,{class:"back-text",onClick:p[2]||(p[2]=e=>b.value=1)},{default:a((()=>[u("è¿”å›ä¿®æ”¹èº«ä»½")])),_:1}),t(m,{class:"current-role"},{default:a((()=>[u("å½“å‰èº«ä»½ï¼š"+d("student"===U.value.role?"å­¦ç”Ÿ":"æ•™å¸ˆ"),1)])),_:1})])),_:1}),t(f,{class:"section-title"},{default:a((()=>[u("åŸºç¡€ä¿¡æ¯")])),_:1}),t(f,{class:"input-item"},{default:a((()=>[t(w,{class:"input",modelValue:U.value.name,"onUpdate:modelValue":p[3]||(p[3]=e=>U.value.name=e),placeholder:"çœŸå®å§“å"},null,8,["modelValue"])])),_:1}),t(f,{class:"input-item"},{default:a((()=>[t(w,{class:"input",modelValue:U.value.phone,"onUpdate:modelValue":p[4]||(p[4]=e=>U.value.phone=e),type:"number",placeholder:"æ‰‹æœºå·ç "},null,8,["modelValue"])])),_:1}),t(f,{class:"input-item code-box"},{default:a((()=>[t(w,{class:"input",modelValue:U.value.code,"onUpdate:modelValue":p[5]||(p[5]=e=>U.value.code=e),type:"number",placeholder:"éªŒè¯ç "},null,8,["modelValue"]),t(m,{class:"get-code",onClick:C},{default:a((()=>[u("è·å–éªŒè¯ç ")])),_:1})])),_:1}),t(f,{class:"input-item"},{default:a((()=>[t(w,{class:"input",modelValue:U.value.password,"onUpdate:modelValue":p[6]||(p[6]=e=>U.value.password=e),type:"password",placeholder:"è®¾ç½®å¯†ç  (6-16ä½)"},null,8,["modelValue"])])),_:1}),t(f,{class:"input-item"},{default:a((()=>[t(w,{class:"input",modelValue:U.value.confirmPwd,"onUpdate:modelValue":p[7]||(p[7]=e=>U.value.confirmPwd=e),type:"password",placeholder:"ç¡®è®¤å¯†ç "},null,8,["modelValue"])])),_:1}),t(f,{class:"section-title"},{default:a((()=>[u("èº«ä»½ä¿¡æ¯")])),_:1}),"student"===U.value.role?(s(),n(i,{key:0},[t(f,{class:"input-item"},{default:a((()=>[t(w,{class:"input",modelValue:U.value.school,"onUpdate:modelValue":p[8]||(p[8]=e=>U.value.school=e),placeholder:"å­¦æ ¡åç§°"},null,8,["modelValue"])])),_:1}),t(f,{class:"input-item"},{default:a((()=>[t(w,{class:"input",modelValue:U.value.college,"onUpdate:modelValue":p[9]||(p[9]=e=>U.value.college=e),placeholder:"æ‰€å±å­¦é™¢"},null,8,["modelValue"])])),_:1}),t(f,{class:"input-item"},{default:a((()=>[t(w,{class:"input",modelValue:U.value.major,"onUpdate:modelValue":p[10]||(p[10]=e=>U.value.major=e),placeholder:"ä¸“ä¸š"},null,8,["modelValue"])])),_:1}),t(f,{class:"input-item"},{default:a((()=>[t(w,{class:"input",modelValue:U.value.class,"onUpdate:modelValue":p[11]||(p[11]=e=>U.value.class=e),placeholder:"ç­çº§ (å¦‚: 22çº§3ç­)"},null,8,["modelValue"])])),_:1})],64)):r("",!0),"teacher"===U.value.role?(s(),n(i,{key:1},[t(f,{class:"input-item"},{default:a((()=>[t(w,{class:"input",modelValue:U.value.school,"onUpdate:modelValue":p[12]||(p[12]=e=>U.value.school=e),placeholder:"å­¦æ ¡åç§°"},null,8,["modelValue"])])),_:1}),t(f,{class:"input-item"},{default:a((()=>[t(w,{class:"input",modelValue:U.value.empId,"onUpdate:modelValue":p[13]||(p[13]=e=>U.value.empId=e),placeholder:"æ•™å¸ˆå·¥å·"},null,8,["modelValue"])])),_:1}),t(f,{class:"input-item"},{default:a((()=>[t(w,{class:"input",modelValue:U.value.department,"onUpdate:modelValue":p[14]||(p[14]=e=>U.value.department=e),placeholder:"æ‰€å±éƒ¨é—¨ (å¦‚: è­¦ä½“æ•™ç ”å®¤)"},null,8,["modelValue"])])),_:1})],64)):r("",!0),t(f,{class:"police-switch-box"},{default:a((()=>[t(f,{class:"switch-header"},{default:a((()=>[t(m,{class:"switch-label"},{default:a((()=>[u("å…¬å®‰é™¢æ ¡ç”¨æˆ·")])),_:1}),t(j,{checked:U.value.isPoliceSchool,onChange:I,color:"#20C997",style:{transform:"scale(0.8)"}},null,8,["checked"])])),_:1}),U.value.isPoliceSchool?(s(),l(m,{key:0,class:"switch-tip"},{default:a((()=>[u(" * å‹¾é€‰åï¼Œç³»ç»Ÿå°†å¼€å¯è­¦åŠ¡ä½“èƒ½è€ƒæ ¸æ ‡å‡†åŠä¸“é¡¹è®­ç»ƒæ¨¡å— ")])),_:1})):r("",!0)])),_:1}),t(h,{class:"submit-btn",onClick:S,loading:g.value},{default:a((()=>[u("ç«‹å³æ³¨å†Œ")])),_:1},8,["loading"])])),_:1})),t(f,{class:"footer-link"},{default:a((()=>[t(m,{class:"link-text",onClick:P},{default:a((()=>[u("å·²æœ‰è´¦å·ï¼Ÿè¿”å›ç™»å½•")])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-e6bfa156"]]);export{b as default};
