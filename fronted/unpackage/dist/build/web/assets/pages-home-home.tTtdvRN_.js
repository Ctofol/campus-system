import{r as a,g as s,c as t,w as e,i as l,o as c,a as u,b as n,t as i,d,e as o,f,h as r,F as _,j as m,s as k,n as p,k as C,S as y,l as g,m as v}from"./index-uRXP6RJd.js";import{o as b}from"./uni-app.es.CewT9dt1.js";import{C as h}from"./CustomTabBar.BfyoH42O.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j=x({__name:"home",setup(x){const j=a("student"),B=a({});b((()=>{const a=s("userRole")||s("role");a&&(j.value=a);const t=s("userInfo");if(t)try{B.value="string"==typeof t?JSON.parse(t):t}catch(e){console.error("JSON parse error",e),B.value={}}}));const D=a(!0),F=a(!1),E=a({id:101,title:"æœ¬å‘¨äº”å‰å®Œæˆä¸€æ¬¡3000ç±³æ‹‰ç»ƒï¼Œé…é€Ÿè¦æ±‚6'00\"",type:"urgent"}),I=a([{name:"å¼•ä½“å‘ä¸Š",tag:"è­¦åŠ¡è€ƒæ ¸",tagClass:"tag-police",status:"æœªå®Œæˆ",type:"pull-up"},{name:"ä»°å§èµ·å",tag:"æ—¥å¸¸æµ‹è¯„",tagClass:"tag-daily",status:"è¿›è¡Œä¸­",type:"sit-up"},{name:"ä¿¯å§æ’‘",tag:"åŸºç¡€è®­ç»ƒ",tagClass:"tag-base",status:"æœªå¼€å§‹",type:"push-up"}]),N=a([{id:1,name:"è­¦åŠ¡ä½“èƒ½ç»¼åˆæµ‹è¯•",type:"è€ƒæ ¸",typeClass:"tag-red",duration:45,difficulty:"é«˜å¼ºåº¦",isCompleted:!1},{id:2,name:"1000ç±³çˆ†å‘åŠ›è®­ç»ƒ",type:"ä¸“é¡¹",typeClass:"tag-blue",duration:20,difficulty:"ä¸­å¼ºåº¦",isCompleted:!0},{id:3,name:"æ ¸å¿ƒåŠ›é‡å¼ºåŒ–è¯¾ç¨‹",type:"æ—¥å¸¸",typeClass:"tag-green",duration:30,difficulty:"ä½Žå¼ºåº¦",isCompleted:!1}]),S=a({name:"åˆ‘ä¾¦å…ˆé”‹è·‘å›¢",rank:3,members:42,totalDistance:1205.8,activityCount:5}),$=a([{name:"äº”å››é’å¹´èŠ‚çŽ¯æ ¡è·‘",time:"5æœˆ4æ—¥ 07:00",status:"æŠ¥åä¸­",statusClass:"status-active",joined:128},{name:"å‘¨æœ«å¤œè·‘æ‰“å¡èµ›",time:"æœ¬å‘¨å…­ 19:00",status:"è¿›è¡Œä¸­",statusClass:"status-ing",joined:56},{name:"è­¦åŠ¡æŠ€èƒ½äº¤æµä¼š",time:"ä¸‹å‘¨ä¸‰ 14:00",status:"é¢„å‘Š",statusClass:"status-future",joined:30}]);a([{user:"å¼ ä¼Ÿ",time:"10åˆ†é’Ÿå‰",action:"å®Œæˆäº†",result:"5å…¬é‡Œæ™¨è·‘",likes:12,avatarColor:"#FF6B6B"},{user:"æŽå¨œ",time:"35åˆ†é’Ÿå‰",action:"æ‰“å¡äº†",result:"æ ¸å¿ƒåŠ›é‡è®­ç»ƒ",likes:8,avatarColor:"#4ECDC4"},{user:"çŽ‹å¼º",time:"1å°æ—¶å‰",action:"åˆ·æ–°äº†",result:"3000ç±³ä¸ªäººè®°å½•",likes:25,avatarColor:"#45B7D1"}]);const A=a([{name:"ç‰¹è­¦çªå‡»é˜Ÿ",members:56,distance:2300,heat:9800},{name:"äº¤è­¦é“éª‘å›¢",members:48,distance:1800,heat:8500},{name:"åˆ‘ä¾¦å…ˆé”‹è·‘å›¢",members:42,distance:1205,heat:7200},{name:"æ²»å®‰å·¡é€»é˜Ÿ",members:35,distance:980,heat:6e3}]),J=()=>{const a=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEEAD"];return a[Math.floor(Math.random()*a.length)]},M=()=>{k({title:"ä»»åŠ¡è¯¦æƒ…",icon:"none"})},O=()=>{p({url:"/pages/ai-police/ai-police"})},w=()=>{p({url:"/pages/activity/list"})},R=()=>{k({title:"åˆ›å»ºåŠŸèƒ½å³å°†ä¸Šçº¿",icon:"none"})},T=()=>{k({title:"åŠ å…¥åŠŸèƒ½å³å°†ä¸Šçº¿",icon:"none"})},q=()=>{k({title:"è·‘å›¢è¯¦æƒ…",icon:"none"})},z=()=>{F.value=!0},G=()=>{F.value=!1};return(a,s)=>{const k=C,b=l,x=y;return c(),t(b,{class:"home-container"},{default:e((()=>[u(b,{class:"student-dashboard"},{default:e((()=>[u(b,{class:"header-section"},{default:e((()=>[E.value?(c(),t(b,{key:0,class:"teacher-task-box",onClick:M},{default:e((()=>[u(b,{class:"task-icon-box"},{default:e((()=>[u(k,{class:"task-icon"},{default:e((()=>[n("ðŸ“¢")])),_:1})])),_:1}),u(b,{class:"task-content"},{default:e((()=>[u(k,{class:"task-title"},{default:e((()=>[n("æ•™å®˜å‘å¸ƒäº†æ–°ä»»åŠ¡")])),_:1}),u(k,{class:"task-desc"},{default:e((()=>[n(i(E.value.title),1)])),_:1})])),_:1}),u(b,{class:"task-action"},{default:e((()=>[u(k,{class:"btn-text"},{default:e((()=>[n("åŽ»å®Œæˆ")])),_:1})])),_:1})])),_:1})):d("",!0),u(b,{class:"student-func-grid"},{default:e((()=>[u(b,{class:"stu-func-item",onClick:O},{default:e((()=>[u(b,{class:"stu-func-icon"},{default:e((()=>[n("ðŸ¤–")])),_:1}),u(k,{class:"stu-func-name"},{default:e((()=>[n("AIè®¡æ•°")])),_:1})])),_:1}),u(b,{class:"stu-func-item",onClick:w},{default:e((()=>[u(b,{class:"stu-func-icon"},{default:e((()=>[n("ðŸš©")])),_:1}),u(k,{class:"stu-func-name"},{default:e((()=>[n("è·‘å›¢æ´»åŠ¨")])),_:1})])),_:1}),u(b,{class:"stu-func-item",onClick:s[0]||(s[0]=a=>o({url:"/pages/test/test"}))},{default:e((()=>[u(b,{class:"stu-func-icon"},{default:e((()=>[n("ðŸ“Š")])),_:1}),u(k,{class:"stu-func-name"},{default:e((()=>[n("ä½“æµ‹æˆç»©")])),_:1})])),_:1}),u(b,{class:"stu-func-item",onClick:s[1]||(s[1]=a=>o({url:"/pages/mine/mine"}))},{default:e((()=>[u(b,{class:"stu-func-icon"},{default:e((()=>[n("ðŸ‘¤")])),_:1}),u(k,{class:"stu-func-name"},{default:e((()=>[n("ä¸ªäººä¸­å¿ƒ")])),_:1})])),_:1})])),_:1})])),_:1}),u(b,{class:"section-container module-card"},{default:e((()=>[u(b,{class:"section-header"},{default:e((()=>[u(k,{class:"section-title"},{default:e((()=>[n("ä½“èƒ½è€ƒæ ¸é¡¹ç›®")])),_:1})])),_:1}),u(b,{class:"test-project-list"},{default:e((()=>[(c(!0),f(_,null,r(I.value,((a,s)=>(c(),t(b,{class:"test-card",key:s,onClick:s=>(a=>{o({url:"/pages/test/test?project="+a.name+"&type="+a.type})})(a)},{default:e((()=>[u(b,{class:"test-icon"},{default:e((()=>[n(i("pull-up"===a.type?"ðŸ’ª":"sit-up"===a.type?"ðŸ§˜":"ðŸ‹ï¸"),1)])),_:2},1024),u(b,{class:"test-info"},{default:e((()=>[u(k,{class:"test-name"},{default:e((()=>[n(i(a.name),1)])),_:2},1024),u(b,{class:"test-tags"},{default:e((()=>[u(k,{class:g(["tag-small",a.tagClass])},{default:e((()=>[n(i(a.tag),1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1024),u(k,{class:"test-status"},{default:e((()=>[n(i(a.status),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),u(b,{class:"section-container module-card"},{default:e((()=>[u(b,{class:"section-header",onClick:s[2]||(s[2]=a=>D.value=!D.value)},{default:e((()=>[u(k,{class:"section-title"},{default:e((()=>[n("è­¦åŠ¡å®žæˆ˜è®­ç»ƒ")])),_:1}),u(k,{class:"section-more"},{default:e((()=>[n(i(D.value?"æ”¶èµ·":"å±•å¼€"),1)])),_:1})])),_:1}),D.value?(c(),t(b,{key:0,class:"training-list"},{default:e((()=>[(c(!0),f(_,null,r(N.value,((a,s)=>(c(),t(b,{class:"training-card",key:s,onClick:s=>(a=>{p({url:`/pages/run/run?mode=training&planId=${a.id}&name=${a.name}`})})(a)},{default:e((()=>[u(b,{class:"card-left"},{default:e((()=>[u(b,{class:g(["tag-box",a.typeClass])},{default:e((()=>[u(k,{class:"tag-text"},{default:e((()=>[n(i(a.type),1)])),_:2},1024)])),_:2},1032,["class"]),u(b,{class:"training-info"},{default:e((()=>[u(k,{class:"training-name"},{default:e((()=>[n(i(a.name),1)])),_:2},1024),u(k,{class:"training-meta"},{default:e((()=>[n(i(a.duration)+"åˆ†é’Ÿ Â· "+i(a.difficulty),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),u(b,{class:"card-right"},{default:e((()=>[a.isCompleted?(c(),t(b,{key:0,class:"status-icon"},{default:e((()=>[u(k,null,{default:e((()=>[n("âœ…")])),_:1})])),_:1})):(c(),t(b,{key:1,class:"start-btn-small"},{default:e((()=>[u(k,null,{default:e((()=>[n("å¼€å§‹")])),_:1})])),_:1}))])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):d("",!0)])),_:1}),u(b,{class:"section-container module-card"},{default:e((()=>[u(b,{class:"section-header"},{default:e((()=>[u(k,{class:"section-title"},{default:e((()=>[n("è·‘å›¢è”ç›Ÿ")])),_:1}),u(b,{class:"header-actions"},{default:e((()=>[u(k,{class:"action-link",onClick:R},{default:e((()=>[n("åˆ›å»º")])),_:1}),u(k,{class:"divider"},{default:e((()=>[n("|")])),_:1}),u(k,{class:"action-link",onClick:T},{default:e((()=>[n("åŠ å…¥")])),_:1}),u(k,{class:"divider"},{default:e((()=>[n("|")])),_:1}),u(k,{class:"action-link",onClick:w},{default:e((()=>[n("æ´»åŠ¨æµè§ˆ")])),_:1})])),_:1})])),_:1}),u(b,{class:"my-club-card",onClick:q},{default:e((()=>[u(b,{class:"club-bg-overlay"}),u(b,{class:"club-info"},{default:e((()=>[u(b,{class:"club-header"},{default:e((()=>[u(k,{class:"club-name"},{default:e((()=>[n(i(S.value.name),1)])),_:1}),u(k,{class:"club-rank"},{default:e((()=>[n("No."+i(S.value.rank),1)])),_:1})])),_:1}),u(b,{class:"club-stats"},{default:e((()=>[u(b,{class:"stat-box"},{default:e((()=>[u(k,{class:"val"},{default:e((()=>[n(i(S.value.members),1)])),_:1}),u(k,{class:"label"},{default:e((()=>[n("æˆå‘˜")])),_:1})])),_:1}),u(b,{class:"stat-box"},{default:e((()=>[u(k,{class:"val"},{default:e((()=>[n(i(S.value.totalDistance),1)])),_:1}),u(k,{class:"label"},{default:e((()=>[n("æ€»é‡Œç¨‹(km)")])),_:1})])),_:1}),u(b,{class:"stat-box"},{default:e((()=>[u(k,{class:"val"},{default:e((()=>[n(i(S.value.activityCount),1)])),_:1}),u(k,{class:"label"},{default:e((()=>[n("æœ¬æœˆæ´»åŠ¨")])),_:1})])),_:1})])),_:1})])),_:1}),u(b,{class:"rank-entry",onClick:m(z,["stop"])},{default:e((()=>[u(k,{class:"rank-icon"},{default:e((()=>[n("ðŸ†")])),_:1}),u(k,{class:"rank-text"},{default:e((()=>[n("æŽ’è¡Œæ¦œ")])),_:1})])),_:1})])),_:1}),u(b,{class:"community-feed"},{default:e((()=>[u(k,{class:"feed-title"},{default:e((()=>[n("æœ€æ–°åŠ¨æ€")])),_:1}),u(x,{"scroll-x":"",class:"activity-scroll"},{default:e((()=>[(c(!0),f(_,null,r($.value,((a,s)=>(c(),t(b,{class:"activity-card",key:s,onClick:s=>(a=>{p({url:`/pages/activity/detail?name=${a.name}`})})(a)},{default:e((()=>[u(b,{class:g(["act-tag",a.statusClass])},{default:e((()=>[n(i(a.status),1)])),_:2},1032,["class"]),u(k,{class:"act-name"},{default:e((()=>[n(i(a.name),1)])),_:2},1024),u(k,{class:"act-time"},{default:e((()=>[n("ðŸ•’ "+i(a.time),1)])),_:2},1024),u(b,{class:"act-users"},{default:e((()=>[u(b,{class:"avatar-group"},{default:e((()=>[(c(),f(_,null,r(3,(a=>u(b,{class:"avatar-circle",key:a,style:v({backgroundColor:J()})},null,8,["style"]))),64))])),_:1}),u(k,{class:"act-count"},{default:e((()=>[n(i(a.joined)+"äººå·²æŠ¥å",1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1}),u(b,{style:{height:"120rpx"}}),u(h,{current:"/pages/home/home"}),F.value?(c(),t(b,{key:0,class:"modal-overlay",onClick:G},{default:e((()=>[u(b,{class:"rank-modal",onClick:s[3]||(s[3]=m((()=>{}),["stop"]))},{default:e((()=>[u(b,{class:"modal-header"},{default:e((()=>[u(k,{class:"modal-title"},{default:e((()=>[n("ðŸ† è·‘å›¢æŽ’è¡Œæ¦œ")])),_:1}),u(k,{class:"close-btn",onClick:G},{default:e((()=>[n("Ã—")])),_:1})])),_:1}),u(b,{class:"rank-list"},{default:e((()=>[(c(!0),f(_,null,r(A.value,((a,s)=>(c(),t(b,{class:"rank-item",key:s},{default:e((()=>[u(b,{class:g(["rank-num","rank-"+(s+1)])},{default:e((()=>[n(i(s+1),1)])),_:2},1032,["class"]),u(b,{class:"rank-info"},{default:e((()=>[u(k,{class:"rank-name"},{default:e((()=>[n(i(a.name),1)])),_:2},1024),u(k,{class:"rank-detail"},{default:e((()=>[n(i(a.members)+"äºº / "+i(a.distance)+"km",1)])),_:2},1024)])),_:2},1024),u(b,{class:"rank-trend"},{default:e((()=>[u(k,null,{default:e((()=>[n("ðŸ”¥ "+i(a.heat),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})):d("",!0)])),_:1})}}},[["__scopeId","data-v-45688442"]]);export{j as default};
