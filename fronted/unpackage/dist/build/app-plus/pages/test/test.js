"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var xt=Object.create;var j=Object.defineProperty;var bt=Object.getOwnPropertyDescriptor;var mt=Object.getOwnPropertyNames,J=Object.getOwnPropertySymbols,ht=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty,vt=Object.prototype.propertyIsEnumerable;var U=(r,e,o)=>e in r?j(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o,W=(r,e)=>{for(var o in e||(e={}))F.call(e,o)&&U(r,o,e[o]);if(J)for(var o of J(e))vt.call(e,o)&&U(r,o,e[o]);return r};var wt=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var yt=(r,e,o,c)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of mt(e))!F.call(r,i)&&i!==o&&j(r,i,{get:()=>e[i],enumerable:!(c=bt(e,i))||c.enumerable});return r};var G=(r,e,o)=>(o=r!=null?xt(ht(r)):{},yt(e||!r||!r.__esModule?j(o,"default",{value:r,enumerable:!0}):o,r));var k=(r,e,o)=>new Promise((c,i)=>{var d=u=>{try{f(o.next(u))}catch(w){i(w)}},l=u=>{try{f(o.throw(u))}catch(w){i(w)}},f=u=>u.done?c(u.value):Promise.resolve(u.value).then(d,l);f((o=o.apply(r,e)).next())});var D=wt((Pt,Y)=>{Y.exports=Vue});var v=G(D()),Ct="onShow",St="onHide",kt="onLoad";function g(r,e,...o){uni.__log__?uni.__log__(r,e,...o):console[r].apply(console,[...o,e])}var $=(r,e=0)=>(o,c=(0,v.getCurrentInstance)())=>{!v.isInSSRComponentSetup&&(0,v.injectHook)(r,o,c)},Q=$(Ct,3),X=$(St,3),K=$(kt,2),Z=(r,e)=>{let o=r.__vccOpts||r;for(let[c,i]of e)o[c]=i;return o};var t=G(D());var tt="http://127.0.0.1:8000";tt="http://120.26.17.147:8000";var et=tt,Tt=(...r)=>{let e={};return typeof r[0]=="string"?e=W({url:r[0]},r[1]):e=r[0]||{},new Promise((o,c)=>{let i=uni.getStorageSync("token"),d=W({"Content-Type":"application/json"},e.header||{});i&&(d.Authorization=`Bearer ${i}`),uni.request({url:`${et}${e.url}`,method:e.method||"GET",data:e.data||{},header:d,success:l=>{l.statusCode>=200&&l.statusCode<300?o(l.data):l.statusCode===401?(uni.removeStorageSync("token"),uni.removeStorageSync("userInfo"),uni.showToast({title:"\u767B\u5F55\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55",icon:"none"}),setTimeout(()=>{uni.reLaunch({url:"/pages/login/login"})},1500),c(l.data)):(uni.showToast({title:l.data.detail||"\u8BF7\u6C42\u5931\u8D25",icon:"none"}),c(l.data))},fail:l=>{g("error","at utils/request.js:83","Request fail:",l),uni.showModal({title:"\u7F51\u7EDC\u8BF7\u6C42\u5931\u8D25",content:l.errMsg||JSON.stringify(l),showCancel:!1}),c(l)}})})},_t={"test-page-root":{"":{flex:1,backgroundColor:"#1a1a1a",flexDirection:"column"}},"custom-navbar":{"":{position:"fixed",top:0,left:0,width:"750rpx",backgroundColor:"#1a1a1a"}},"navbar-content":{"":{height:44,flexDirection:"row",alignItems:"center",justifyContent:"center"}},"navbar-title":{"":{color:"#ffffff",fontSize:16,fontWeight:"bold"}},"content-wrapper":{"":{flex:1,flexDirection:"column",alignItems:"center",width:"750rpx",paddingBottom:"120rpx"}},"teacher-tools":{"":{width:"750rpx",paddingTop:"40rpx",paddingRight:"30rpx",paddingBottom:"40rpx",paddingLeft:"30rpx"}},"teacher-card":{"":{backgroundColor:"#ffffff",borderRadius:"12rpx",paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx"}},"teacher-title":{"":{fontSize:"34rpx",fontWeight:"bold",marginBottom:"10rpx",color:"#333333"}},"teacher-actions":{"":{flexDirection:"row"}},"teacher-btn":{"":{backgroundColor:"#20C997",paddingTop:"10rpx",paddingRight:"20rpx",paddingBottom:"10rpx",paddingLeft:"20rpx",borderRadius:"8rpx"}},"teacher-btn-text":{"":{color:"#ffffff",fontSize:"28rpx"}},"student-container":{"":{flexDirection:"column",width:"750rpx",alignItems:"center"}},"header-info":{"":{paddingTop:"40rpx",paddingRight:"30rpx",paddingBottom:"20rpx",paddingLeft:"30rpx",alignItems:"center"}},"project-name":{"":{fontSize:"36rpx",fontWeight:"bold",marginBottom:"10rpx",color:"#ffffff"}},"standard-badge":{"":{backgroundColor:"rgba(32,201,151,0.2)",paddingTop:"8rpx",paddingRight:"20rpx",paddingBottom:"8rpx",paddingLeft:"20rpx",borderRadius:"12rpx",marginBottom:"16rpx"}},"badge-text":{"":{color:"#20C997",fontSize:"24rpx",fontWeight:"bold"}},"standard-desc":{"":{fontSize:"28rpx",color:"#aaaaaa",marginTop:"10rpx"}},"test-type-switch":{"":{marginTop:"20rpx",flexDirection:"column",alignItems:"center"}},"switch-btn":{"":{backgroundColor:"rgba(255,255,255,0.1)",paddingTop:"12rpx",paddingRight:"36rpx",paddingBottom:"12rpx",paddingLeft:"36rpx",borderRadius:"30rpx",borderWidth:1,borderStyle:"solid",borderColor:"rgba(32,201,151,0.3)"}},"switch-btn-text":{"":{color:"#20C997",fontSize:"28rpx"}},"type-selector":{"":{backgroundColor:"rgba(0,0,0,0.4)",borderWidth:1,borderStyle:"solid",borderColor:"rgba(255,255,255,0.1)",borderRadius:"16rpx",marginTop:"10rpx"}},"type-item":{"":{paddingTop:"16rpx",paddingRight:"40rpx",paddingBottom:"16rpx",paddingLeft:"40rpx",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"rgba(255,255,255,0.08)"}},"type-item-text":{"":{color:"#ffffff",fontSize:"28rpx",textAlign:"center"}},"camera-area":{"":{width:"750rpx",height:"562.5rpx",backgroundColor:"#000000",position:"relative",justifyContent:"center",alignItems:"center",borderTopWidth:1,borderTopStyle:"solid",borderTopColor:"#333333",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#333333"}},"real-camera":{"":{width:"750rpx",height:"562.5rpx"}},"camera-error-view":{"":{width:"750rpx",height:"562.5rpx",backgroundColor:"#222222",justifyContent:"center",alignItems:"center"}},"error-text":{"":{color:"#aaaaaa",fontSize:"28rpx",marginBottom:"20rpx"}},"retry-btn":{"":{backgroundColor:"#333333",paddingTop:"10rpx",paddingRight:"30rpx",paddingBottom:"10rpx",paddingLeft:"30rpx",borderRadius:"8rpx",borderWidth:1,borderStyle:"solid",borderColor:"#444444"}},"retry-text":{"":{color:"#ffffff",fontSize:"28rpx"}},"camera-overlay-content":{"":{position:"absolute",top:0,left:0,width:"750rpx",height:"562.5rpx"}},"count-overlay":{"":{position:"absolute",top:"200rpx",left:"375rpx",transform:"translateX(-50%)",flexDirection:"row",alignItems:"flex-end",justifyContent:"center"}},"count-val":{"":{fontSize:"100rpx",fontWeight:"800",color:"#20C997",lineHeight:"100rpx"}},"count-label":{"":{fontSize:"30rpx",color:"rgba(255,255,255,0.8)",marginLeft:"12rpx",fontWeight:"bold",marginBottom:"10rpx"}},"progress-bar-container":{"":{position:"absolute",bottom:0,left:0,width:"750rpx",height:"10rpx",backgroundColor:"rgba(255,255,255,0.1)"}},"progress-fill":{"":{height:"10rpx",backgroundColor:"#20C997"}},"status-tips":{"":{position:"absolute",bottom:"60rpx",left:0,width:"750rpx",flexDirection:"row",justifyContent:"center"}},"status-text":{"":{backgroundColor:"rgba(0,0,0,0.7)",paddingTop:"16rpx",paddingRight:"48rpx",paddingBottom:"16rpx",paddingLeft:"48rpx",borderRadius:"50rpx",fontSize:"32rpx",color:"#ffffff",borderWidth:1,borderStyle:"solid",borderColor:"rgba(255,255,255,0.1)"}},"valid-text":{"":{color:"#20C997",backgroundColor:"rgba(32,201,151,0.15)",borderColor:"rgba(32,201,151,0.4)"}},"action-area":{"":{width:"750rpx",paddingTop:"20rpx",paddingRight:"40rpx",paddingBottom:"60rpx",paddingLeft:"40rpx",alignItems:"center"}},"timer-box":{"":{marginBottom:"40rpx",backgroundColor:"rgba(255,255,255,0.05)",paddingTop:"16rpx",paddingRight:"40rpx",paddingBottom:"16rpx",paddingLeft:"40rpx",borderRadius:"20rpx",alignItems:"center",borderWidth:1,borderStyle:"solid",borderColor:"rgba(255,255,255,0.05)"}},"timer-label":{"":{fontSize:"24rpx",color:"#888888",marginBottom:"4rpx"}},"timer-text":{"":{fontSize:"60rpx",fontWeight:"bold",color:"#ffffff"}},"last-result-box":{"":{marginTop:20,backgroundColor:"#2a2a2a",borderRadius:12,paddingTop:15,paddingRight:15,paddingBottom:15,paddingLeft:15,width:"600rpx",borderWidth:1,borderStyle:"solid",borderColor:"#333333"}},"result-title":{"":{color:"#ffffff",fontSize:"32rpx",fontWeight:"bold",marginBottom:"20rpx",textAlign:"center"}},"result-row":{"":{flexDirection:"row",justifyContent:"space-between",marginBottom:"10rpx"}},"result-label":{"":{color:"#888888",fontSize:"28rpx"}},"result-value":{"":{color:"#20C997",fontSize:"32rpx",fontWeight:"bold"}},"btn-group":{"":{flexDirection:"row",width:"600rpx",justifyContent:"center"}},"testing-btns":{"":{flexDirection:"row",flex:1,justifyContent:"space-between"}},"main-btn":{"":{flex:1,backgroundImage:"linear-gradient(to bottom right, #20C997, #17a077)",height:"110rpx",alignItems:"center",justifyContent:"center",borderRadius:"60rpx"}},"sub-btn":{"":{flex:1,height:"110rpx",alignItems:"center",justifyContent:"center",borderRadius:"60rpx",marginTop:0,marginRight:"10rpx",marginBottom:0,marginLeft:"10rpx"}},"stop-btn":{"":{backgroundImage:"linear-gradient(to bottom right, #ff6b6b, #ee5253)"}},"mock-btn":{"":{backgroundColor:"rgba(255,255,255,0.1)",borderWidth:1,borderStyle:"solid",borderColor:"rgba(255,255,255,0.1)"}},"btn-text":{"":{color:"#ffffff",fontSize:"36rpx",fontWeight:"bold"}},"mock-text":{"":{color:"#cccccc",fontSize:"32rpx"}},"tab-bar":{"":{position:"fixed",bottom:0,left:0,width:"750rpx",height:"100rpx",backgroundColor:"#ffffff",flexDirection:"row",borderTopWidth:1,borderTopStyle:"solid",borderTopColor:"rgba(0,0,0,0.1)"}},"tab-bar-item":{"":{flex:1,alignItems:"center",justifyContent:"center"}},"tab-icon":{"":{width:"50rpx",height:"50rpx",marginBottom:"4rpx"}},"tab-text":{"":{fontSize:"20rpx"}},"guide-modal":{"":{position:"fixed",top:0,left:0,bottom:0,right:0,backgroundColor:"rgba(0,0,0,0.8)",justifyContent:"center",alignItems:"center"}},"guide-content":{"":{backgroundColor:"#ffffff",width:"600rpx",borderRadius:"20rpx",paddingTop:"40rpx",paddingRight:"40rpx",paddingBottom:"40rpx",paddingLeft:"40rpx",alignItems:"center"}},"guide-title":{"":{fontSize:"36rpx",fontWeight:"bold",marginBottom:"30rpx",color:"#333333"}},"guide-visual":{"":{width:"200rpx",height:"200rpx",backgroundColor:"#f5f5f5",borderRadius:"20rpx",alignItems:"center",justifyContent:"center",marginBottom:"30rpx"}},"guide-emoji":{"":{fontSize:"80rpx"}},"guide-desc":{"":{fontSize:"28rpx",color:"#666666",textAlign:"center",marginBottom:"40rpx"}},"guide-btn":{"":{backgroundColor:"#20C997",paddingTop:"10rpx",paddingRight:"60rpx",paddingBottom:"10rpx",paddingLeft:"60rpx",borderRadius:"40rpx"}},"guide-btn-text":{"":{color:"#ffffff",fontSize:"30rpx"}},"h5-camera-wrapper":{"":{width:"750rpx",height:"562.5rpx",justifyContent:"center",alignItems:"center",backgroundColor:"#333333"}}},A="/pages/test/test",Bt={__name:"test",setup(r){let e=(0,t.ref)(20),o=(0,t.ref)(null),c=(0,t.ref)(null),i=(0,t.ref)(!1),d=(0,t.ref)(0),l=(0,t.ref)(0),f=(0,t.ref)(null),u=(0,t.ref)(null),w=(0,t.ref)(""),ot=(0,t.computed)(()=>Math.min(d.value/20*100,100)),_=(0,t.ref)(!1),b=(0,t.ref)("\u8BF7\u505A\u597D\u51C6\u5907"),C=(0,t.ref)(!1),B=(0,t.ref)(!1),I=(0,t.ref)("student"),m=(0,t.ref)(!0),P=(0,t.ref)("back"),x=(0,t.ref)("\u5F15\u4F53\u5411\u4E0A"),h=(0,t.ref)("\u4E0B\u988C\u8FC7\u6760\uFF0C\u53CC\u81C2\u4F38\u76F4"),R=(0,t.ref)("pull-up"),at=(0,t.computed)(()=>({"pull-up":"\u{1F4AA}","sit-up":"\u{1F9D8}","push-up":"\u{1F647}"})[R.value]||"\u{1F3C3}"),rt=(0,t.computed)(()=>I.value==="teacher"?[{pagePath:"/pages/teacher/home/home",text:"\u4E3B\u9875",iconPath:"/static/tab/home.png",selectedIconPath:"/static/tab/home-active.png"},{pagePath:"/pages/teacher/manage/manage",text:"\u7BA1\u7406",iconPath:"/static/tab/run.png",selectedIconPath:"/static/tab/run-active.png"},{pagePath:"/pages/teacher/mine/mine",text:"\u6211\u7684",iconPath:"/static/tab/mine.png",selectedIconPath:"/static/tab/mine-active.png"}]:[{pagePath:"/pages/home/home",text:"\u9996\u9875",iconPath:"/static/tab/home.png",selectedIconPath:"/static/tab/home-active.png"},{pagePath:"/pages/run/run",text:"\u8DD1\u6B65",iconPath:"/static/tab/run.png",selectedIconPath:"/static/tab/run-active.png"},{pagePath:"/pages/test/test",text:"\u4F53\u6D4B",iconPath:"/static/tab/test.png",selectedIconPath:"/static/tab/test-active.png"},{pagePath:"/pages/mine/mine",text:"\u6211\u7684",iconPath:"/static/tab/mine.png",selectedIconPath:"/static/tab/mine-active.png"}]),nt=a=>{a.pagePath!==A&&uni.redirectTo({url:a.pagePath})};Q(()=>{let a=uni.getStorageSync("userRole")||"student";I.value=a,!o.value&&uni.createCameraContext&&(o.value=uni.createCameraContext())});let it=()=>{C.value=!C.value},L=(a,n)=>{x.value=a,R.value=n,C.value=!1,n==="pull-up"?h.value="\u4E0B\u988C\u8FC7\u6760\uFF0C\u53CC\u81C2\u4F38\u76F4":n==="sit-up"?h.value="\u53CC\u624B\u62B1\u5934\uFF0C\u8098\u90E8\u89E6\u819D":n==="push-up"&&(h.value="\u8EAB\u4F53\u5E73\u76F4\uFF0C\u5C48\u81C290\u5EA6"),d.value=0,l.value=0,i.value=!1,b.value="\u8BF7\u505A\u597D\u51C6\u5907"},z=a=>{let n=Math.floor(a/60),s=a%60;return`${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`},N=()=>{d.value++,_.value=!0,b.value="\u52A8\u4F5C\u6807\u51C6",setTimeout(()=>{_.value=!1,b.value="\u4FDD\u6301\u52A8\u4F5C"},1e3)},st=()=>{i.value||(o.value&&o.value.startRecord({success:()=>g("log","at pages/test/test.nvue:247","Start record success"),fail:a=>{g("error","at pages/test/test.nvue:249","Start record fail",a)}}),i.value=!0,d.value=0,l.value=0,b.value="\u6B63\u5728\u8BC6\u522B...",w.value="",f.value=setInterval(()=>{l.value++},1e3),c.value=setInterval(()=>{N()},3e3))},lt=()=>k(this,null,function*(){if(i.value){if(clearInterval(f.value),clearInterval(c.value),i.value=!1,b.value="\u6D4B\u8BD5\u7ED3\u675F",u.value={count:d.value,duration:z(l.value),date:new Date().toLocaleString()},uni.showLoading({title:"\u6B63\u5728\u5904\u7406\u89C6\u9891..."}),o.value){o.value.stopRecord({success:a=>k(this,null,function*(){let n=a.tempVideoPath;try{uni.showLoading({title:"\u6B63\u5728\u4E0A\u4F20\u89C6\u9891..."});let s=yield M(n),p="";s&&s.url&&(p=s.url),yield V(p),uni.hideLoading(),E()}catch(s){uni.hideLoading(),uni.showToast({title:"\u89C6\u9891\u4E0A\u4F20\u5931\u8D25",icon:"none"})}}),fail:a=>{g("error","at pages/test/test.nvue:307","Stop record fail",a),H()}});return}H()}}),H=()=>k(this,null,function*(){try{let a=yield ct(),n="";if(a){let s=yield M(a);s&&s.url&&(n=s.url)}yield V(n),uni.hideLoading(),E()}catch(a){uni.hideLoading(),uni.showToast({title:"\u6570\u636E\u63D0\u4EA4\u5931\u8D25",icon:"none"}),g("error","at pages/test/test.nvue:334",a)}}),E=()=>{uni.showModal({title:"\u6D4B\u8BD5\u5B8C\u6210",content:`\u9879\u76EE\uFF1A${x.value}
\u672C\u6B21\u6210\u7EE9\uFF1A${d.value}\u6B21
\u7528\u65F6\uFF1A${z(l.value)}`,showCancel:!1})},ct=()=>new Promise((a,n)=>{o.value&&o.value.takePhoto?o.value.takePhoto({quality:"normal",success:s=>{a(s.tempImagePath)},fail:s=>{g("error","at pages/test/test.nvue:356","App snapshot failed",s),a(null)}}):a(null)}),M=a=>new Promise((n,s)=>{let p=uni.getStorageSync("token");uni.uploadFile({url:`${et}/upload`,filePath:a,name:"file",header:{Authorization:`Bearer ${p}`},success:y=>{try{let S=JSON.parse(y.data);n(S)}catch(S){s(S)}},fail:y=>{s(y)}})}),V=a=>Tt({url:"/activity/finish",method:"POST",data:{type:"test",source:"free",started_at:new Date(Date.now()-l.value*1e3).toISOString(),ended_at:new Date().toISOString(),metrics:{count:d.value,duration:l.value,qualified:d.value>=10,checkpoints:JSON.stringify([])},evidence:[...a?[{evidence_type:"video",data_ref:a}]:[]]}}),ut=a=>{a.project&&(x.value=a.project),a.type&&(R.value=a.type);let n={\u5F15\u4F53\u5411\u4E0A:"\u4E0B\u988C\u8FC7\u6760\uFF0C\u53CC\u81C2\u4F38\u76F4",\u4EF0\u5367\u8D77\u5750:"\u53CC\u624B\u62B1\u5934\uFF0C\u8098\u90E8\u89E6\u819D",\u4FEF\u5367\u6491:"\u8EAB\u4F53\u5E73\u76F4\uFF0C\u5C48\u81C290\u5EA6"};n[x.value]&&(h.value=n[x.value])};K(a=>{let n=uni.getSystemInfoSync();e.value=n.statusBarHeight||20,a&&ut(a)});let pt=()=>{uni.navigateTo({url:"/pages/teacher/students/students"})},dt=()=>{P.value=P.value==="back"?"front":"back"},gt=()=>{m.value=!1,setTimeout(()=>{m.value=!0},100)},q=()=>{uni.openAppAuthorizeSetting()},ft=a=>{g("error","at pages/test/test.nvue:465","Camera Error:",a),m.value=!1,uni.showModal({title:"\u6444\u50CF\u5934\u6743\u9650\u53D7\u9650",content:"\u8BF7\u5728\u8BBE\u7F6E\u4E2D\u5F00\u542F\u6444\u50CF\u5934\u6743\u9650\u4EE5\u8FDB\u884C\u62CD\u6444",confirmText:"\u53BB\u8BBE\u7F6E",success:n=>{n.confirm&&q()}})};return X(()=>{i.value&&(clearInterval(f.value),clearInterval(c.value),i.value=!1)}),(a,n)=>{let s=(0,t.resolveComponent)("button");return(0,t.openBlock)(),(0,t.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,t.createElementVNode)("view",{class:"test-page-root"},[(0,t.createElementVNode)("view",{class:"custom-navbar",style:(0,t.normalizeStyle)({paddingTop:e.value+"px"})},[(0,t.createElementVNode)("view",{class:"navbar-content"},[(0,t.createElementVNode)("u-text",{class:"navbar-title"},"\u4F53\u80FD\u6D4B\u8BD5")])],4),(0,t.createElementVNode)("scroll-view",{scrollY:"true",class:"content-wrapper",style:(0,t.normalizeStyle)({paddingTop:e.value+44+"px"})},[I.value==="teacher"?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"teacher-tools"},[(0,t.createElementVNode)("view",{class:"teacher-card"},[(0,t.createElementVNode)("u-text",{class:"teacher-title"},"\u6559\u5E08\u5DE5\u5177"),(0,t.createElementVNode)("view",{class:"teacher-actions"},[(0,t.createVNode)(s,{class:"teacher-btn",onClick:pt},{default:(0,t.withCtx)(()=>[(0,t.createElementVNode)("u-text",{class:"teacher-btn-text"},"\u5B66\u5458\u7BA1\u7406")]),_:1})])])])):((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:1,class:"student-container"},[(0,t.createElementVNode)("view",{class:"header-info"},[(0,t.createElementVNode)("u-text",{class:"project-name"},(0,t.toDisplayString)(x.value),1),(0,t.createElementVNode)("view",{class:"standard-badge"},[(0,t.createElementVNode)("u-text",{class:"badge-text"},"\u56FD\u5BB6\u5B66\u751F\u4F53\u8D28\u5065\u5EB7\u6807\u51C6")]),(0,t.createElementVNode)("u-text",{class:"standard-desc"},"\u52A8\u4F5C\u6807\u51C6\uFF1A"+(0,t.toDisplayString)(h.value),1),(0,t.createElementVNode)("view",{class:"test-type-switch"},[(0,t.createVNode)(s,{class:"switch-btn",onClick:it},{default:(0,t.withCtx)(()=>[(0,t.createElementVNode)("u-text",{class:"switch-btn-text"},"\u5207\u6362\u6D4B\u8BD5\u7C7B\u578B")]),_:1}),C.value?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"type-selector"},[(0,t.createElementVNode)("view",{class:"type-item",onClick:n[0]||(n[0]=p=>L("\u5F15\u4F53\u5411\u4E0A","pull-up"))},[(0,t.createElementVNode)("u-text",{class:"type-item-text"},"\u5F15\u4F53\u5411\u4E0A")]),(0,t.createElementVNode)("view",{class:"type-item",onClick:n[1]||(n[1]=p=>L("\u4EF0\u5367\u8D77\u5750","sit-up"))},[(0,t.createElementVNode)("u-text",{class:"type-item-text"},"\u4EF0\u5367\u8D77\u5750")]),(0,t.createElementVNode)("view",{class:"type-item",onClick:n[2]||(n[2]=p=>L("\u4FEF\u5367\u6491","push-up"))},[(0,t.createElementVNode)("u-text",{class:"type-item-text"},"\u4FEF\u5367\u6491")])])):(0,t.createCommentVNode)("",!0)])]),(0,t.createElementVNode)("view",{class:"camera-area"},[m.value?((0,t.openBlock)(),(0,t.createElementBlock)("camera",{key:0,class:"real-camera",devicePosition:P.value,flash:"off",onError:ft},null,40,["devicePosition"])):(0,t.createCommentVNode)("",!0),m.value?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:1,class:"camera-controls"},[(0,t.createVNode)(s,{class:"switch-cam-btn",onClick:dt},{default:(0,t.withCtx)(()=>[(0,t.createElementVNode)("u-text",{class:"switch-text"},"\u{1F4F7} \u5207\u6362")]),_:1})])):(0,t.createCommentVNode)("",!0),m.value?(0,t.createCommentVNode)("",!0):((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:2,class:"camera-error-view"},[(0,t.createElementVNode)("u-text",{class:"error-text"},"\u65E0\u6CD5\u8BBF\u95EE\u6444\u50CF\u5934"),(0,t.createVNode)(s,{class:"retry-btn",onClick:gt},{default:(0,t.withCtx)(()=>[(0,t.createElementVNode)("u-text",{class:"retry-text"},"\u91CD\u8BD5")]),_:1}),(0,t.createVNode)(s,{class:"retry-btn setting-btn",onClick:q,style:{"margin-top":"20rpx","background-color":"#555"}},{default:(0,t.withCtx)(()=>[(0,t.createElementVNode)("u-text",{class:"retry-text"},"\u53BB\u8BBE\u7F6E\u5F00\u542F\u6743\u9650")]),_:1})])),i.value?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:3,class:"camera-overlay-content"},[(0,t.createElementVNode)("view",{class:"count-overlay"},[(0,t.createElementVNode)("u-text",{class:"count-val"},(0,t.toDisplayString)(d.value),1),(0,t.createElementVNode)("u-text",{class:"count-label"},"\u6B21")]),(0,t.createElementVNode)("view",{class:"progress-bar-container"},[(0,t.createElementVNode)("view",{class:"progress-fill",style:(0,t.normalizeStyle)({width:ot.value+"%"})},null,4)]),(0,t.createElementVNode)("view",{class:"status-tips"},[(0,t.createElementVNode)("u-text",{class:(0,t.normalizeClass)(["status-text",[_.value?"valid-text":""]])},(0,t.toDisplayString)(b.value),3)])])):(0,t.createCommentVNode)("",!0)]),(0,t.createElementVNode)("view",{class:"action-area"},[(0,t.createElementVNode)("view",{class:"timer-box"},[(0,t.createElementVNode)("u-text",{class:"timer-label"},(0,t.toDisplayString)(i.value?"\u6D4B\u8BD5\u7528\u65F6":u.value?"\u4E0A\u6B21\u7528\u65F6":"\u6D4B\u8BD5\u7528\u65F6"),1),(0,t.createElementVNode)("u-text",{class:"timer-text"},(0,t.toDisplayString)(i.value?z(l.value):u.value?u.value.duration:"00:00"),1)]),!i.value&&u.value?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"last-result-box"},[(0,t.createElementVNode)("u-text",{class:"result-title"},"\u4E0A\u6B21\u6210\u7EE9 ("+(0,t.toDisplayString)(x.value)+")",1),(0,t.createElementVNode)("view",{class:"result-row"},[(0,t.createElementVNode)("u-text",{class:"result-label"},"\u6570\u91CF\uFF1A"),(0,t.createElementVNode)("u-text",{class:"result-value"},(0,t.toDisplayString)(u.value.count)+" \u6B21",1)]),(0,t.createElementVNode)("view",{class:"result-row"},[(0,t.createElementVNode)("u-text",{class:"result-label"},"\u7528\u65F6\uFF1A"),(0,t.createElementVNode)("u-text",{class:"result-value"},(0,t.toDisplayString)(u.value.duration),1)])])):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("view",{class:"btn-group"},[i.value?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:1,class:"testing-btns"},[(0,t.createElementVNode)("view",{class:"sub-btn stop-btn",onClick:lt},[(0,t.createElementVNode)("u-text",{class:"btn-text"},"\u7ED3\u675F\u6D4B\u8BD5")]),(0,t.createElementVNode)("view",{class:"sub-btn mock-btn",onClick:N},[(0,t.createElementVNode)("u-text",{class:"btn-text mock-text"},"+1 \u6A21\u62DF")])])):((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"main-btn start-btn",onClick:st},[(0,t.createElementVNode)("u-text",{class:"btn-text"},(0,t.toDisplayString)(u.value?"\u518D\u6B21\u6D4B\u8BD5":"\u5F00\u59CB\u6D4B\u8BD5"),1)]))])])])),B.value?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:2,class:"guide-modal",onClick:n[5]||(n[5]=p=>B.value=!1)},[(0,t.createElementVNode)("view",{class:"guide-content",onClick:n[4]||(n[4]=(0,t.withModifiers)(()=>{},["stop"]))},[(0,t.createElementVNode)("u-text",{class:"guide-title"},"\u52A8\u4F5C\u6307\u5357"),(0,t.createElementVNode)("view",{class:"guide-visual"},[(0,t.createElementVNode)("u-text",{class:"guide-emoji"},(0,t.toDisplayString)(at.value),1)]),(0,t.createElementVNode)("u-text",{class:"guide-desc"},(0,t.toDisplayString)(h.value),1),(0,t.createVNode)(s,{class:"guide-btn",onClick:n[3]||(n[3]=p=>B.value=!1)},{default:(0,t.withCtx)(()=>[(0,t.createElementVNode)("u-text",{class:"guide-btn-text"},"\u6211\u77E5\u9053\u4E86")]),_:1})])])):(0,t.createCommentVNode)("",!0)],4),(0,t.createElementVNode)("view",{class:"tab-bar"},[(0,t.createElementVNode)("view",{class:"tab-bar-border"}),((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(rt.value,(p,y)=>((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:y,class:"tab-bar-item",onClick:S=>nt(p)},[(0,t.createElementVNode)("u-image",{class:"tab-icon",src:A===p.pagePath?p.selectedIconPath:p.iconPath},null,8,["src"]),(0,t.createElementVNode)("u-text",{class:"tab-text",style:(0,t.normalizeStyle)({color:A===p.pagePath?"#20C997":"#666666"})},(0,t.toDisplayString)(p.text),5)],8,["onClick"]))),128))])])])}}},T=Z(Bt,[["styles",[_t]]]);var O=plus.webview.currentWebview();if(O){let r=parseInt(O.id),e="pages/test/test",o={};try{o=JSON.parse(O.__query__)}catch(i){}T.mpType="page";let c=Vue.createPageApp(T,{$store:getApp({allowDefault:!0}).$store,__pageId:r,__pagePath:e,__pageQuery:o});c.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...T.styles||[]])),c.mount("#root")}})();
