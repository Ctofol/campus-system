"use weex:vue";

if (typeof Promise !== 'undefined' && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor
    return this.then(
      value => promise.resolve(callback()).then(() => value),
      reason => promise.resolve(callback()).then(() => {
        throw reason
      })
    )
  }
};

if (typeof uni !== 'undefined' && uni && uni.requireGlobal) {
  const global = uni.requireGlobal()
  ArrayBuffer = global.ArrayBuffer
  Int8Array = global.Int8Array
  Uint8Array = global.Uint8Array
  Uint8ClampedArray = global.Uint8ClampedArray
  Int16Array = global.Int16Array
  Uint16Array = global.Uint16Array
  Int32Array = global.Int32Array
  Uint32Array = global.Uint32Array
  Float32Array = global.Float32Array
  Float64Array = global.Float64Array
  BigInt64Array = global.BigInt64Array
  BigUint64Array = global.BigUint64Array
};


(()=>{var ot=Object.create;var P=Object.defineProperty;var at=Object.getOwnPropertyDescriptor;var rt=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols,nt=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable;var $=(a,e,o)=>e in a?P(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o,_=(a,e)=>{for(var o in e||(e={}))O.call(e,o)&&$(a,o,e[o]);if(D)for(var o of D(e))it.call(e,o)&&$(a,o,e[o]);return a};var st=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports);var lt=(a,e,o,l)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of rt(e))!O.call(a,i)&&i!==o&&P(a,i,{get:()=>e[i],enumerable:!(l=at(e,i))||l.enumerable});return a};var ct=(a,e,o)=>(o=a!=null?ot(nt(a)):{},lt(e||!a||!a.__esModule?P(o,"default",{value:a,enumerable:!0}):o,a));var A=(a,e,o)=>new Promise((l,i)=>{var p=c=>{try{g(o.next(c))}catch(f){i(f)}},s=c=>{try{g(o.throw(c))}catch(f){i(f)}},g=c=>c.done?l(c.value):Promise.resolve(c.value).then(p,s);g((o=o.apply(a,e)).next())});var E=st((Ct,N)=>{N.exports=Vue});var t=ct(E());var ut="onShow",pt="onHide",dt="onLoad";function R(a,e,...o){uni.__log__?uni.__log__(a,e,...o):console[a].apply(console,[...o,e])}var L=(a,e=0)=>(o,l=(0,t.getCurrentInstance)())=>{!t.isInSSRComponentSetup&&(0,t.injectHook)(a,o,l)},gt=L(ut,3),ft=L(pt,3),xt=L(dt,2),H="http://127.0.0.1:8000";H="http://192.168.0.210:8000";var V=H,bt=(...a)=>{let e={};return typeof a[0]=="string"?e=_({url:a[0]},a[1]):e=a[0]||{},new Promise((o,l)=>{let i=uni.getStorageSync("token"),p=_({"Content-Type":"application/json"},e.header||{});i&&(p.Authorization=`Bearer ${i}`),uni.request({url:`${V}${e.url}`,method:e.method||"GET",data:e.data||{},header:p,success:s=>{s.statusCode>=200&&s.statusCode<300?o(s.data):s.statusCode===401?(uni.removeStorageSync("token"),uni.removeStorageSync("userInfo"),uni.showToast({title:"\u767B\u5F55\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55",icon:"none"}),setTimeout(()=>{uni.reLaunch({url:"/pages/login/login"})},1500),l(s.data)):(uni.showToast({title:s.data.detail||"\u8BF7\u6C42\u5931\u8D25",icon:"none"}),l(s.data))},fail:s=>{uni.showToast({title:"\u7F51\u7EDC\u8BF7\u6C42\u5931\u8D25",icon:"none"}),l(s)}})})},mt={"test-page-root":{"":{flex:1,backgroundColor:"#1a1a1a",flexDirection:"column"}},"custom-navbar":{"":{position:"fixed",top:0,left:0,width:"750rpx",backgroundColor:"#1a1a1a"}},"navbar-content":{"":{height:44,flexDirection:"row",alignItems:"center",justifyContent:"center"}},"navbar-title":{"":{color:"#ffffff",fontSize:16,fontWeight:"bold"}},"content-wrapper":{"":{flex:1,flexDirection:"column",alignItems:"center",width:"750rpx",paddingBottom:"120rpx"}},"teacher-tools":{"":{width:"750rpx",paddingTop:"40rpx",paddingRight:"30rpx",paddingBottom:"40rpx",paddingLeft:"30rpx"}},"teacher-card":{"":{backgroundColor:"#ffffff",borderRadius:"12rpx",paddingTop:"20rpx",paddingRight:"20rpx",paddingBottom:"20rpx",paddingLeft:"20rpx"}},"teacher-title":{"":{fontSize:"34rpx",fontWeight:"bold",marginBottom:"10rpx",color:"#333333"}},"teacher-actions":{"":{flexDirection:"row"}},"teacher-btn":{"":{backgroundColor:"#20C997",paddingTop:"10rpx",paddingRight:"20rpx",paddingBottom:"10rpx",paddingLeft:"20rpx",borderRadius:"8rpx"}},"teacher-btn-text":{"":{color:"#ffffff",fontSize:"28rpx"}},"student-container":{"":{flexDirection:"column",width:"750rpx",alignItems:"center"}},"header-info":{"":{paddingTop:"40rpx",paddingRight:"30rpx",paddingBottom:"20rpx",paddingLeft:"30rpx",alignItems:"center"}},"project-name":{"":{fontSize:"36rpx",fontWeight:"bold",marginBottom:"10rpx",color:"#ffffff"}},"standard-badge":{"":{backgroundColor:"rgba(32,201,151,0.2)",paddingTop:"8rpx",paddingRight:"20rpx",paddingBottom:"8rpx",paddingLeft:"20rpx",borderRadius:"12rpx",marginBottom:"16rpx"}},"badge-text":{"":{color:"#20C997",fontSize:"24rpx",fontWeight:"bold"}},"standard-desc":{"":{fontSize:"28rpx",color:"#aaaaaa",marginTop:"10rpx"}},"test-type-switch":{"":{marginTop:"20rpx",flexDirection:"column",alignItems:"center"}},"switch-btn":{"":{backgroundColor:"rgba(255,255,255,0.1)",paddingTop:"12rpx",paddingRight:"36rpx",paddingBottom:"12rpx",paddingLeft:"36rpx",borderRadius:"30rpx",borderWidth:1,borderStyle:"solid",borderColor:"rgba(32,201,151,0.3)"}},"switch-btn-text":{"":{color:"#20C997",fontSize:"28rpx"}},"type-selector":{"":{backgroundColor:"rgba(0,0,0,0.4)",borderWidth:1,borderStyle:"solid",borderColor:"rgba(255,255,255,0.1)",borderRadius:"16rpx",marginTop:"10rpx"}},"type-item":{"":{paddingTop:"16rpx",paddingRight:"40rpx",paddingBottom:"16rpx",paddingLeft:"40rpx",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"rgba(255,255,255,0.08)"}},"type-item-text":{"":{color:"#ffffff",fontSize:"28rpx",textAlign:"center"}},"camera-area":{"":{width:"750rpx",height:"562.5rpx",backgroundColor:"#000000",position:"relative",justifyContent:"center",alignItems:"center",borderTopWidth:1,borderTopStyle:"solid",borderTopColor:"#333333",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"#333333"}},"real-camera":{"":{width:"750rpx",height:"562.5rpx"}},"camera-overlay-content":{"":{position:"absolute",top:0,left:0,width:"750rpx",height:"562.5rpx"}},"count-overlay":{"":{position:"absolute",top:"200rpx",left:"375rpx",transform:"translateX(-50%)",flexDirection:"row",alignItems:"flex-end",justifyContent:"center"}},"count-val":{"":{fontSize:"100rpx",fontWeight:"800",color:"#20C997",lineHeight:"100rpx"}},"count-label":{"":{fontSize:"30rpx",color:"rgba(255,255,255,0.8)",marginLeft:"12rpx",fontWeight:"bold",marginBottom:"10rpx"}},"progress-bar-container":{"":{position:"absolute",bottom:0,left:0,width:"750rpx",height:"10rpx",backgroundColor:"rgba(255,255,255,0.1)"}},"progress-fill":{"":{height:"10rpx",backgroundColor:"#20C997"}},"status-tips":{"":{position:"absolute",bottom:"60rpx",left:0,width:"750rpx",flexDirection:"row",justifyContent:"center"}},"status-text":{"":{backgroundColor:"rgba(0,0,0,0.7)",paddingTop:"16rpx",paddingRight:"48rpx",paddingBottom:"16rpx",paddingLeft:"48rpx",borderRadius:"50rpx",fontSize:"32rpx",color:"#ffffff",borderWidth:1,borderStyle:"solid",borderColor:"rgba(255,255,255,0.1)"}},"valid-text":{"":{color:"#20C997",backgroundColor:"rgba(32,201,151,0.15)",borderColor:"rgba(32,201,151,0.4)"}},"action-area":{"":{width:"750rpx",paddingTop:"20rpx",paddingRight:"40rpx",paddingBottom:"60rpx",paddingLeft:"40rpx",alignItems:"center"}},"timer-box":{"":{marginBottom:"40rpx",backgroundColor:"rgba(255,255,255,0.05)",paddingTop:"16rpx",paddingRight:"40rpx",paddingBottom:"16rpx",paddingLeft:"40rpx",borderRadius:"20rpx",alignItems:"center",borderWidth:1,borderStyle:"solid",borderColor:"rgba(255,255,255,0.05)"}},"timer-label":{"":{fontSize:"24rpx",color:"#888888",marginBottom:"4rpx"}},"timer-text":{"":{fontSize:"60rpx",fontWeight:"bold",color:"#ffffff"}},"last-result-box":{"":{marginTop:20,backgroundColor:"#2a2a2a",borderRadius:12,paddingTop:15,paddingRight:15,paddingBottom:15,paddingLeft:15,width:"600rpx",borderWidth:1,borderStyle:"solid",borderColor:"#333333"}},"result-title":{"":{color:"#ffffff",fontSize:"32rpx",fontWeight:"bold",marginBottom:"20rpx",textAlign:"center"}},"result-row":{"":{flexDirection:"row",justifyContent:"space-between",marginBottom:"10rpx"}},"result-label":{"":{color:"#888888",fontSize:"28rpx"}},"result-value":{"":{color:"#20C997",fontSize:"32rpx",fontWeight:"bold"}},"btn-group":{"":{flexDirection:"row",width:"600rpx",justifyContent:"center"}},"testing-btns":{"":{flexDirection:"row",flex:1,justifyContent:"space-between"}},"main-btn":{"":{flex:1,backgroundImage:"linear-gradient(to bottom right, #20C997, #17a077)",height:"110rpx",alignItems:"center",justifyContent:"center",borderRadius:"60rpx"}},"sub-btn":{"":{flex:1,height:"110rpx",alignItems:"center",justifyContent:"center",borderRadius:"60rpx",marginTop:0,marginRight:"10rpx",marginBottom:0,marginLeft:"10rpx"}},"stop-btn":{"":{backgroundImage:"linear-gradient(to bottom right, #ff6b6b, #ee5253)"}},"mock-btn":{"":{backgroundColor:"rgba(255,255,255,0.1)",borderWidth:1,borderStyle:"solid",borderColor:"rgba(255,255,255,0.1)"}},"btn-text":{"":{color:"#ffffff",fontSize:"36rpx",fontWeight:"bold"}},"mock-text":{"":{color:"#cccccc",fontSize:"32rpx"}},"tab-bar":{"":{position:"fixed",bottom:0,left:0,width:"750rpx",height:"100rpx",backgroundColor:"#ffffff",flexDirection:"row",borderTopWidth:1,borderTopStyle:"solid",borderTopColor:"rgba(0,0,0,0.1)"}},"tab-bar-item":{"":{flex:1,alignItems:"center",justifyContent:"center"}},"tab-icon":{"":{width:"50rpx",height:"50rpx",marginBottom:"4rpx"}},"tab-text":{"":{fontSize:"20rpx"}},"guide-modal":{"":{position:"fixed",top:0,left:0,bottom:0,right:0,backgroundColor:"rgba(0,0,0,0.8)",justifyContent:"center",alignItems:"center"}},"guide-content":{"":{backgroundColor:"#ffffff",width:"600rpx",borderRadius:"20rpx",paddingTop:"40rpx",paddingRight:"40rpx",paddingBottom:"40rpx",paddingLeft:"40rpx",alignItems:"center"}},"guide-title":{"":{fontSize:"36rpx",fontWeight:"bold",marginBottom:"30rpx",color:"#333333"}},"guide-visual":{"":{width:"200rpx",height:"200rpx",backgroundColor:"#f5f5f5",borderRadius:"20rpx",alignItems:"center",justifyContent:"center",marginBottom:"30rpx"}},"guide-emoji":{"":{fontSize:"80rpx"}},"guide-desc":{"":{fontSize:"28rpx",color:"#666666",textAlign:"center",marginBottom:"40rpx"}},"guide-btn":{"":{backgroundColor:"#20C997",paddingTop:"10rpx",paddingRight:"60rpx",paddingBottom:"10rpx",paddingLeft:"60rpx",borderRadius:"40rpx"}},"guide-btn-text":{"":{color:"#ffffff",fontSize:"30rpx"}},"h5-camera-wrapper":{"":{width:"750rpx",height:"562.5rpx",justifyContent:"center",alignItems:"center",backgroundColor:"#333333"}},"error-text":{"":{color:"#aaaaaa",fontSize:"28rpx"}}},ht=(a,e)=>{let o=a.__vccOpts||a;for(let[l,i]of e)o[l]=i;return o},z="/pages/test/test",vt={__name:"test",setup(a){let e=(0,t.ref)(20),o=(0,t.ref)(null),l=(0,t.ref)(null),i=(0,t.ref)(!1),p=(0,t.ref)(0),s=(0,t.ref)(0),g=(0,t.ref)(null),c=(0,t.ref)(null),f=(0,t.ref)(""),q=(0,t.computed)(()=>Math.min(p.value/20*100,100)),y=(0,t.ref)(!1),b=(0,t.ref)("\u8BF7\u505A\u597D\u51C6\u5907"),v=(0,t.ref)(!1),S=(0,t.ref)(!1),k=(0,t.ref)("student"),x=(0,t.ref)("\u5F15\u4F53\u5411\u4E0A"),m=(0,t.ref)("\u4E0B\u988C\u8FC7\u6760\uFF0C\u53CC\u81C2\u4F38\u76F4"),T=(0,t.ref)("pull-up"),M=(0,t.computed)(()=>({"pull-up":"\u{1F4AA}","sit-up":"\u{1F9D8}","push-up":"\u{1F647}"})[T.value]||"\u{1F3C3}"),U=(0,t.computed)(()=>k.value==="teacher"?[{pagePath:"/pages/teacher/home/home",text:"\u4E3B\u9875",iconPath:"/static/tab/home.png",selectedIconPath:"/static/tab/home-active.png"},{pagePath:"/pages/teacher/manage/manage",text:"\u7BA1\u7406",iconPath:"/static/tab/run.png",selectedIconPath:"/static/tab/run-active.png"},{pagePath:"/pages/teacher/mine/mine",text:"\u6211\u7684",iconPath:"/static/tab/mine.png",selectedIconPath:"/static/tab/mine-active.png"}]:[{pagePath:"/pages/home/home",text:"\u9996\u9875",iconPath:"/static/tab/home.png",selectedIconPath:"/static/tab/home-active.png"},{pagePath:"/pages/run/run",text:"\u8DD1\u6B65",iconPath:"/static/tab/run.png",selectedIconPath:"/static/tab/run-active.png"},{pagePath:"/pages/test/test",text:"\u4F53\u6D4B",iconPath:"/static/tab/test.png",selectedIconPath:"/static/tab/test-active.png"},{pagePath:"/pages/mine/mine",text:"\u6211\u7684",iconPath:"/static/tab/mine.png",selectedIconPath:"/static/tab/mine-active.png"}]),F=r=>{r.pagePath!==z&&uni.redirectTo({url:r.pagePath})};gt(()=>{let r=uni.getStorageSync("userRole")||"student";k.value=r,!o.value&&uni.createCameraContext&&(o.value=uni.createCameraContext())});let J=()=>{v.value=!v.value},I=(r,n)=>{x.value=r,T.value=n,v.value=!1,n==="pull-up"?m.value="\u4E0B\u988C\u8FC7\u6760\uFF0C\u53CC\u81C2\u4F38\u76F4":n==="sit-up"?m.value="\u53CC\u624B\u62B1\u5934\uFF0C\u8098\u90E8\u89E6\u819D":n==="push-up"&&(m.value="\u8EAB\u4F53\u5E73\u76F4\uFF0C\u5C48\u81C290\u5EA6"),p.value=0,s.value=0,i.value=!1,b.value="\u8BF7\u505A\u597D\u51C6\u5907"},B=r=>{let n=Math.floor(r/60),u=r%60;return`${n.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`},j=()=>{p.value++,y.value=!0,b.value="\u52A8\u4F5C\u6807\u51C6",setTimeout(()=>{y.value=!1,b.value="\u4FDD\u6301\u52A8\u4F5C"},1e3)},G=()=>{i.value||(i.value=!0,p.value=0,s.value=0,b.value="\u6B63\u5728\u8BC6\u522B...",f.value="",g.value=setInterval(()=>{s.value++},1e3),l.value=setInterval(()=>{j()},3e3))},Y=()=>A(this,null,function*(){if(i.value){clearInterval(g.value),clearInterval(l.value),i.value=!1,b.value="\u6D4B\u8BD5\u7ED3\u675F",c.value={count:p.value,duration:B(s.value),date:new Date().toLocaleString()},uni.showLoading({title:"\u6B63\u5728\u4E0A\u4F20\u6570\u636E..."});try{let r=yield Q(),n="";if(r){let u=yield X(r);u&&u.url&&(n=u.url)}yield K(n),uni.hideLoading(),uni.showModal({title:"\u6D4B\u8BD5\u5B8C\u6210",content:`\u9879\u76EE\uFF1A${x.value}
\u672C\u6B21\u6210\u7EE9\uFF1A${p.value}\u6B21
\u7528\u65F6\uFF1A${B(s.value)}`,showCancel:!1})}catch(r){uni.hideLoading(),uni.showToast({title:"\u6570\u636E\u63D0\u4EA4\u5931\u8D25",icon:"none"}),R("error","at pages/test/test.nvue:282",r)}}}),Q=()=>new Promise((r,n)=>{o.value&&o.value.takePhoto?o.value.takePhoto({quality:"normal",success:u=>{r(u.tempImagePath)},fail:u=>{R("error","at pages/test/test.nvue:296","App snapshot failed",u),r(null)}}):r(null)}),X=r=>new Promise((n,u)=>{let d=uni.getStorageSync("token");uni.uploadFile({url:`${V}/upload`,filePath:r,name:"file",header:{Authorization:`Bearer ${d}`},success:h=>{try{let w=JSON.parse(h.data);n(w)}catch(w){u(w)}},fail:h=>{u(h)}})}),K=()=>bt({url:"/activity/finish",method:"POST",data:{type:"test",source:"free",started_at:new Date(Date.now()-s.value*1e3).toISOString(),ended_at:new Date().toISOString(),metrics:{count:p.value,duration:s.value,qualified:p.value>=10,checkpoints:JSON.stringify([])},evidence:[...f.value?[{evidence_type:"video",data_ref:f.value}]:[]]}}),Z=r=>{r.project&&(x.value=r.project),r.type&&(T.value=r.type);let n={\u5F15\u4F53\u5411\u4E0A:"\u4E0B\u988C\u8FC7\u6760\uFF0C\u53CC\u81C2\u4F38\u76F4",\u4EF0\u5367\u8D77\u5750:"\u53CC\u624B\u62B1\u5934\uFF0C\u8098\u90E8\u89E6\u819D",\u4FEF\u5367\u6491:"\u8EAB\u4F53\u5E73\u76F4\uFF0C\u5C48\u81C290\u5EA6"};n[x.value]&&(m.value=n[x.value])};xt(r=>{let n=uni.getSystemInfoSync();e.value=n.statusBarHeight||20,r&&Z(r)});let tt=()=>{uni.navigateTo({url:"/pages/teacher/students/students"})},et=r=>{R("error","at pages/test/test.nvue:385","Camera Error:",r),uni.showToast({title:"\u65E0\u6CD5\u8BBF\u95EE\u6444\u50CF\u5934",icon:"none",duration:3e3})};return ft(()=>{i.value&&(clearInterval(g.value),clearInterval(l.value),i.value=!1)}),(r,n)=>{let u=(0,t.resolveComponent)("button");return(0,t.openBlock)(),(0,t.createElementBlock)("scroll-view",{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true",style:{flexDirection:"column"}},[(0,t.createElementVNode)("view",{class:"test-page-root"},[(0,t.createElementVNode)("view",{class:"custom-navbar",style:(0,t.normalizeStyle)({paddingTop:e.value+"px"})},[(0,t.createElementVNode)("view",{class:"navbar-content"},[(0,t.createElementVNode)("u-text",{class:"navbar-title"},"\u4F53\u80FD\u6D4B\u8BD5")])],4),(0,t.createElementVNode)("scroll-view",{scrollY:"true",class:"content-wrapper",style:(0,t.normalizeStyle)({paddingTop:e.value+44+"px"})},[k.value==="teacher"?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"teacher-tools"},[(0,t.createElementVNode)("view",{class:"teacher-card"},[(0,t.createElementVNode)("u-text",{class:"teacher-title"},"\u6559\u5E08\u5DE5\u5177"),(0,t.createElementVNode)("view",{class:"teacher-actions"},[(0,t.createVNode)(u,{class:"teacher-btn",onClick:tt},{default:(0,t.withCtx)(()=>[(0,t.createElementVNode)("u-text",{class:"teacher-btn-text"},"\u5B66\u5458\u7BA1\u7406")]),_:1})])])])):((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:1,class:"student-container"},[(0,t.createElementVNode)("view",{class:"header-info"},[(0,t.createElementVNode)("u-text",{class:"project-name"},(0,t.toDisplayString)(x.value),1),(0,t.createElementVNode)("view",{class:"standard-badge"},[(0,t.createElementVNode)("u-text",{class:"badge-text"},"\u56FD\u5BB6\u5B66\u751F\u4F53\u8D28\u5065\u5EB7\u6807\u51C6")]),(0,t.createElementVNode)("u-text",{class:"standard-desc"},"\u52A8\u4F5C\u6807\u51C6\uFF1A"+(0,t.toDisplayString)(m.value),1),(0,t.createElementVNode)("view",{class:"test-type-switch"},[(0,t.createVNode)(u,{class:"switch-btn",onClick:J},{default:(0,t.withCtx)(()=>[(0,t.createElementVNode)("u-text",{class:"switch-btn-text"},"\u5207\u6362\u6D4B\u8BD5\u7C7B\u578B")]),_:1}),v.value?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"type-selector"},[(0,t.createElementVNode)("view",{class:"type-item",onClick:n[0]||(n[0]=d=>I("\u5F15\u4F53\u5411\u4E0A","pull-up"))},[(0,t.createElementVNode)("u-text",{class:"type-item-text"},"\u5F15\u4F53\u5411\u4E0A")]),(0,t.createElementVNode)("view",{class:"type-item",onClick:n[1]||(n[1]=d=>I("\u4EF0\u5367\u8D77\u5750","sit-up"))},[(0,t.createElementVNode)("u-text",{class:"type-item-text"},"\u4EF0\u5367\u8D77\u5750")]),(0,t.createElementVNode)("view",{class:"type-item",onClick:n[2]||(n[2]=d=>I("\u4FEF\u5367\u6491","push-up"))},[(0,t.createElementVNode)("u-text",{class:"type-item-text"},"\u4FEF\u5367\u6491")])])):(0,t.createCommentVNode)("",!0)])]),(0,t.createElementVNode)("view",{class:"camera-area"},[(0,t.createElementVNode)("camera",{class:"real-camera",devicePosition:"front",flash:"off",onError:et},null,32),i.value?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"camera-overlay-content"},[(0,t.createElementVNode)("view",{class:"count-overlay"},[(0,t.createElementVNode)("u-text",{class:"count-val"},(0,t.toDisplayString)(p.value),1),(0,t.createElementVNode)("u-text",{class:"count-label"},"\u6B21")]),(0,t.createElementVNode)("view",{class:"progress-bar-container"},[(0,t.createElementVNode)("view",{class:"progress-fill",style:(0,t.normalizeStyle)({width:q.value+"%"})},null,4)]),(0,t.createElementVNode)("view",{class:"status-tips"},[(0,t.createElementVNode)("u-text",{class:(0,t.normalizeClass)(["status-text",[y.value?"valid-text":""]])},(0,t.toDisplayString)(b.value),3)])])):(0,t.createCommentVNode)("",!0)]),(0,t.createElementVNode)("view",{class:"action-area"},[(0,t.createElementVNode)("view",{class:"timer-box"},[(0,t.createElementVNode)("u-text",{class:"timer-label"},(0,t.toDisplayString)(i.value?"\u6D4B\u8BD5\u7528\u65F6":c.value?"\u4E0A\u6B21\u7528\u65F6":"\u6D4B\u8BD5\u7528\u65F6"),1),(0,t.createElementVNode)("u-text",{class:"timer-text"},(0,t.toDisplayString)(i.value?B(s.value):c.value?c.value.duration:"00:00"),1)]),!i.value&&c.value?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"last-result-box"},[(0,t.createElementVNode)("u-text",{class:"result-title"},"\u4E0A\u6B21\u6210\u7EE9 ("+(0,t.toDisplayString)(x.value)+")",1),(0,t.createElementVNode)("view",{class:"result-row"},[(0,t.createElementVNode)("u-text",{class:"result-label"},"\u6570\u91CF\uFF1A"),(0,t.createElementVNode)("u-text",{class:"result-value"},(0,t.toDisplayString)(c.value.count)+" \u6B21",1)]),(0,t.createElementVNode)("view",{class:"result-row"},[(0,t.createElementVNode)("u-text",{class:"result-label"},"\u7528\u65F6\uFF1A"),(0,t.createElementVNode)("u-text",{class:"result-value"},(0,t.toDisplayString)(c.value.duration),1)])])):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("view",{class:"btn-group"},[i.value?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:1,class:"testing-btns"},[(0,t.createElementVNode)("view",{class:"sub-btn stop-btn",onClick:Y},[(0,t.createElementVNode)("u-text",{class:"btn-text"},"\u7ED3\u675F\u6D4B\u8BD5")]),(0,t.createElementVNode)("view",{class:"sub-btn mock-btn",onClick:j},[(0,t.createElementVNode)("u-text",{class:"btn-text mock-text"},"+1 \u6A21\u62DF")])])):((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:0,class:"main-btn start-btn",onClick:G},[(0,t.createElementVNode)("u-text",{class:"btn-text"},(0,t.toDisplayString)(c.value?"\u518D\u6B21\u6D4B\u8BD5":"\u5F00\u59CB\u6D4B\u8BD5"),1)]))])])])),S.value?((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:2,class:"guide-modal",onClick:n[5]||(n[5]=d=>S.value=!1)},[(0,t.createElementVNode)("view",{class:"guide-content",onClick:n[4]||(n[4]=(0,t.withModifiers)(()=>{},["stop"]))},[(0,t.createElementVNode)("u-text",{class:"guide-title"},"\u52A8\u4F5C\u6307\u5357"),(0,t.createElementVNode)("view",{class:"guide-visual"},[(0,t.createElementVNode)("u-text",{class:"guide-emoji"},(0,t.toDisplayString)(M.value),1)]),(0,t.createElementVNode)("u-text",{class:"guide-desc"},(0,t.toDisplayString)(m.value),1),(0,t.createVNode)(u,{class:"guide-btn",onClick:n[3]||(n[3]=d=>S.value=!1)},{default:(0,t.withCtx)(()=>[(0,t.createElementVNode)("u-text",{class:"guide-btn-text"},"\u6211\u77E5\u9053\u4E86")]),_:1})])])):(0,t.createCommentVNode)("",!0)],4),(0,t.createElementVNode)("view",{class:"tab-bar"},[(0,t.createElementVNode)("view",{class:"tab-bar-border"}),((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(U.value,(d,h)=>((0,t.openBlock)(),(0,t.createElementBlock)("view",{key:h,class:"tab-bar-item",onClick:w=>F(d)},[(0,t.createElementVNode)("u-image",{class:"tab-icon",src:z===d.pagePath?d.selectedIconPath:d.iconPath},null,8,["src"]),(0,t.createElementVNode)("u-text",{class:"tab-text",style:(0,t.normalizeStyle)({color:z===d.pagePath?"#20C997":"#666666"})},(0,t.toDisplayString)(d.text),5)],8,["onClick"]))),128))])])])}}},C=ht(vt,[["styles",[mt]]]);var W=plus.webview.currentWebview();if(W){let a=parseInt(W.id),e="pages/test/test",o={};try{o=JSON.parse(W.__query__)}catch(i){}C.mpType="page";let l=Vue.createPageApp(C,{$store:getApp({allowDefault:!0}).$store,__pageId:a,__pagePath:e,__pageQuery:o});l.provide("__globalStyles",Vue.useCssStyles([...__uniConfig.styles,...C.styles||[]])),l.mount("#root")}})();
